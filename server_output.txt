   Compiling proximadb v0.1.0 (/home/vsingh/code/proximadb)
warning: unused import: `Path`
  --> src/core/storage_layout.rs:31:17
   |
31 | use std::path::{Path, PathBuf};
   |                 ^^^^
   |
   = note: `#[warn(unused_imports)]` on by default

warning: unused import: `uuid::Uuid`
  --> src/core/storage_layout.rs:32:5
   |
32 | use uuid::Uuid;
   |     ^^^^^^^^^^

warning: unused imports: `FilestoreMetadataBackend` and `FilestoreMetadataConfig`
  --> src/network/grpc/service.rs:20:61
   |
20 | use crate::storage::metadata::backends::filestore_backend::{FilestoreMetadataBackend, FilestoreMetadataConfig};
   |                                                             ^^^^^^^^^^^^^^^^^^^^^^^^  ^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `FilesystemConfig`
  --> src/network/grpc/service.rs:21:53
   |
21 | use crate::storage::filesystem::{FilesystemFactory, FilesystemConfig};
   |                                                     ^^^^^^^^^^^^^^^^

warning: unused imports: `CollectionConfig as SchemaCollectionConfig` and `CollectionRequest as SchemaCollectionRequest`
  --> src/network/grpc/service.rs:24:5
   |
24 |     CollectionRequest as SchemaCollectionRequest, 
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
25 |     CollectionConfig as SchemaCollectionConfig,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `FilesystemConfig`
  --> src/network/multi_server.rs:20:53
   |
20 | use crate::storage::filesystem::{FilesystemFactory, FilesystemConfig};
   |                                                     ^^^^^^^^^^^^^^^^

warning: unused import: `DateTime`
  --> src/schema/collection_avro.rs:23:14
   |
23 | use chrono::{DateTime, Utc};
   |              ^^^^^^^^

warning: unused import: `uuid::Uuid`
  --> src/services/collection_service.rs:24:5
   |
24 | use uuid::Uuid;
   |     ^^^^^^^^^^

warning: unused import: `StorageLayoutError`
  --> src/services/storage_path_service.rs:33:37
   |
33 |     TempOperationType, StorageType, StorageLayoutError
   |                                     ^^^^^^^^^^^^^^^^^^

warning: unused import: `async_trait::async_trait`
  --> src/storage/filesystem/manager.rs:19:5
   |
19 | use async_trait::async_trait;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `std::collections::HashMap`
  --> src/storage/filesystem/manager.rs:20:5
   |
20 | use std::collections::HashMap;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `std::path::PathBuf`
  --> src/storage/filesystem/manager.rs:21:5
   |
21 | use std::path::PathBuf;
   |     ^^^^^^^^^^^^^^^^^^

warning: unused import: `std::sync::Arc`
  --> src/storage/filesystem/manager.rs:22:5
   |
22 | use std::sync::Arc;
   |     ^^^^^^^^^^^^^^

warning: unused import: `tokio::sync::RwLock`
  --> src/storage/filesystem/manager.rs:23:5
   |
23 | use tokio::sync::RwLock;
   |     ^^^^^^^^^^^^^^^^^^^

warning: unused import: `super::local::LocalFileSystem`
  --> src/storage/filesystem/manager.rs:27:5
   |
27 | use super::local::LocalFileSystem;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `super::s3::S3FileSystem`
  --> src/storage/filesystem/manager.rs:28:5
   |
28 | use super::s3::S3FileSystem;
   |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `super::azure::AzureFileSystem`
  --> src/storage/filesystem/manager.rs:29:5
   |
29 | use super::azure::AzureFileSystem;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `super::gcs::GcsFileSystem`
  --> src/storage/filesystem/manager.rs:30:5
   |
30 | use super::gcs::GcsFileSystem;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `tokio::sync::RwLock`
  --> src/storage/metadata/backends/filestore_backend.rs:42:5
   |
42 | use tokio::sync::RwLock;
   |     ^^^^^^^^^^^^^^^^^^^

warning: unused import: `DateTime`
  --> src/storage/metadata/backends/memory_backend.rs:14:14
   |
14 | use chrono::{DateTime, Utc};
   |              ^^^^^^^^

warning: unused variable: `collection_id`
   --> src/storage/engine.rs:567:9
    |
567 |         collection_id: &CollectionId,
    |         ^^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_collection_id`
    |
    = note: `#[warn(unused_variables)]` on by default

warning: unused variable: `collection`
    --> src/storage/engine.rs:1014:13
     |
1014 |         for collection in collections {
     |             ^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_collection`

warning: unused variable: `fs`
   --> src/storage/filesystem/mod.rs:619:21
    |
619 |                 let fs = self.get_filesystem(url)?;
    |                     ^^ help: if this is intentional, prefix it with an underscore: `_fs`

warning: unused variable: `err`
   --> src/storage/filesystem/manager.rs:133:21
    |
133 |                 Err(err) => {
    |                     ^^^ help: if this is intentional, prefix it with an underscore: `_err`

warning: unused variable: `filter`
   --> src/storage/metadata/backends/memory_backend.rs:207:34
    |
207 |     async fn apply_filter(&self, filter: &MetadataFilter) -> Result<Vec<CollectionId>> {
    |                                  ^^^^^^ help: if this is intentional, prefix it with an underscore: `_filter`

warning: unused variable: `indexes`
   --> src/storage/metadata/backends/memory_backend.rs:208:13
    |
208 |         let indexes = self.indexes.read().await;
    |             ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_indexes`

warning: variable does not need to be mutable
   --> src/storage/metadata/wal.rs:427:21
    |
427 |                 let mut collection_ids = Vec::new();
    |                     ----^^^^^^^^^^^^^^
    |                     |
    |                     help: remove this `mut`
    |
    = note: `#[warn(unused_mut)]` on by default

warning: unused variable: `partition_id`
   --> src/storage/viper/ttl.rs:207:9
    |
207 |         partition_id: &PartitionId,
    |         ^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_partition_id`

warning: unused variable: `schema`
   --> src/storage/wal/avro.rs:148:13
    |
148 |         let schema = Schema::parse_str(AVRO_SCHEMA_V1).context("Failed to parse Avro schema")?;
    |             ^^^^^^ help: if this is intentional, prefix it with an underscore: `_schema`

warning: unused variable: `uuid`
   --> src/network/grpc/service.rs:219:58
    |
219 |                     let created_collection = if let Some(uuid) = &result.collection_uuid {
    |                                                          ^^^^ help: if this is intentional, prefix it with an underscore: `_uuid`

warning: unused variable: `result`
   --> src/network/grpc/service.rs:448:21
    |
448 |                 let result = self.collection_service
    |                     ^^^^^^ help: if this is intentional, prefix it with an underscore: `_result`

warning: unused variable: `processing_time`
   --> src/network/grpc/service.rs:470:21
    |
470 |                 let processing_time = start_time.elapsed().as_micros() as i64;
    |                     ^^^^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_processing_time`

warning: unused variable: `start_time`
   --> src/network/grpc/service.rs:485:13
    |
485 |         let start_time = std::time::Instant::now();
    |             ^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_start_time`

warning: unused variable: `options`
   --> src/storage/filesystem/atomic_strategy.rs:169:9
    |
169 |         options: Option<FileOptions>,
    |         ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_options`

warning: unused variable: `filesystem`
   --> src/storage/filesystem/atomic_strategy.rs:252:40
    |
252 |     async fn cleanup_temp_files(&self, filesystem: &dyn FileSystem) -> FsResult<()> {
    |                                        ^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_filesystem`

warning: unused variable: `container`
   --> src/storage/filesystem/azure.rs:527:14
    |
527 |         let (container, prefix) = self.parse_azure_url(path)?;
    |              ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_container`

warning: unused variable: `prefix`
   --> src/storage/filesystem/azure.rs:527:25
    |
527 |         let (container, prefix) = self.parse_azure_url(path)?;
    |                         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_prefix`

warning: unused variable: `key_json`
   --> src/storage/filesystem/gcs.rs:664:13
    |
664 |         let key_json: serde_json::Value = serde_json::from_str(&key_data).map_err(|e| {
    |             ^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_key_json`

warning: unused variable: `key_json`
   --> src/storage/filesystem/gcs.rs:700:13
    |
700 |         let key_json: serde_json::Value = serde_json::from_str(&self.key_json).map_err(|e| {
    |             ^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_key_json`

warning: unused variable: `path_suffix`
   --> src/storage/filesystem/hdfs.rs:555:13
    |
555 |         let path_suffix = file_status["pathSuffix"].as_str().unwrap_or("");
    |             ^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_path_suffix`

warning: unused variable: `access_time`
   --> src/storage/filesystem/hdfs.rs:561:13
    |
561 |         let access_time = file_status["accessTime"]
    |             ^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_access_time`

warning: unused variable: `method`
   --> src/storage/filesystem/s3.rs:399:9
    |
399 |         method: &str,
    |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_method`

warning: unused variable: `bucket`
   --> src/storage/filesystem/s3.rs:400:9
    |
400 |         bucket: &str,
    |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_bucket`

warning: unused variable: `key`
   --> src/storage/filesystem/s3.rs:401:9
    |
401 |         key: &str,
    |         ^^^ help: if this is intentional, prefix it with an underscore: `_key`

warning: unused variable: `bucket`
   --> src/storage/filesystem/s3.rs:558:14
    |
558 |         let (bucket, prefix) = self.parse_s3_url(path)?;
    |              ^^^^^^ help: if this is intentional, prefix it with an underscore: `_bucket`

warning: unused variable: `prefix`
   --> src/storage/filesystem/s3.rs:558:22
    |
558 |         let (bucket, prefix) = self.parse_s3_url(path)?;
    |                      ^^^^^^ help: if this is intentional, prefix it with an underscore: `_prefix`

warning: unused variable: `credentials`
   --> src/storage/filesystem/s3.rs:559:13
    |
559 |         let credentials = self.credential_provider.get_credentials().await?;
    |             ^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_credentials`

warning: unused variable: `from_bucket`
   --> src/storage/filesystem/s3.rs:577:14
    |
577 |         let (from_bucket, from_key) = self.parse_s3_url(from)?;
    |              ^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_from_bucket`

warning: unused variable: `from_key`
   --> src/storage/filesystem/s3.rs:577:27
    |
577 |         let (from_bucket, from_key) = self.parse_s3_url(from)?;
    |                           ^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_from_key`

warning: unused variable: `to_bucket`
   --> src/storage/filesystem/s3.rs:578:14
    |
578 |         let (to_bucket, to_key) = self.parse_s3_url(to)?;
    |              ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_to_bucket`

warning: unused variable: `to_key`
   --> src/storage/filesystem/s3.rs:578:25
    |
578 |         let (to_bucket, to_key) = self.parse_s3_url(to)?;
    |                         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_to_key`

warning: unused variable: `credentials`
   --> src/storage/filesystem/s3.rs:579:13
    |
579 |         let credentials = self.credential_provider.get_credentials().await?;
    |             ^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_credentials`

warning: unused variable: `temp_space`
   --> src/storage/validation.rs:337:19
    |
337 |         if let Ok(temp_space) = std::fs::metadata("/tmp") {
    |                   ^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_temp_space`

warning: unused variable: `f`
   --> src/storage/metadata/atomic.rs:662:38
    |
662 |         let wal_filter = filter.map(|f| {
    |                                      ^ help: if this is intentional, prefix it with an underscore: `_f`

warning: unused variable: `versioned`
   --> src/storage/metadata/atomic.rs:663:28
    |
663 |             Box::new(move |versioned: &VersionedCollectionMetadata| -> bool {
    |                            ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_versioned`

warning: unused variable: `atomic_stats`
   --> src/storage/metadata/atomic.rs:742:13
    |
742 |         let atomic_stats = self.stats.read().await;
    |             ^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_atomic_stats`

warning: value assigned to `old_metadata` is never read
   --> src/storage/metadata/backends/memory_backend.rs:354:17
    |
354 |         let mut old_metadata = None;
    |                 ^^^^^^^^^^^^
    |
    = help: maybe it is overwritten before being read?
    = note: `#[warn(unused_assignments)]` on by default

warning: value assigned to `deleted_metadata` is never read
   --> src/storage/metadata/backends/memory_backend.rs:386:17
    |
386 |         let mut deleted_metadata = None;
    |                 ^^^^^^^^^^^^^^^^
    |
    = help: maybe it is overwritten before being read?

warning: unused variable: `query`
   --> src/storage/strategy/custom.rs:103:9
    |
103 |         query: Vec<f32>,
    |         ^^^^^ help: if this is intentional, prefix it with an underscore: `_query`

warning: unused variable: `collection_config`
   --> src/storage/strategy/viper.rs:125:17
    |
125 |             let collection_config = CollectionConfig {
    |                 ^^^^^^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_collection_config`

warning: unused variable: `output_url`
   --> src/storage/strategy/viper.rs:136:17
    |
136 |             let output_url = format!(
    |                 ^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_output_url`

warning: unused variable: `compacted_file_url`
   --> src/storage/strategy/viper.rs:199:17
    |
199 |             let compacted_file_url = self
    |                 ^^^^^^^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_compacted_file_url`

warning: unused variable: `query`
   --> src/storage/strategy/viper.rs:229:9
    |
229 |         query: Vec<f32>,
    |         ^^^^^ help: if this is intentional, prefix it with an underscore: `_query`

warning: unreachable pattern
   --> src/storage/viper/compression.rs:491:13
    |
490 |             CompressionAlgorithm::Snappy => (data_size / 1024) as f32 * 0.15,
    |             ---------------------------- matches all the relevant values
491 |             CompressionAlgorithm::Snappy { .. } => (data_size / 1024) as f32 * 0.3,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ no value can reach this
    |
    = note: `#[warn(unreachable_patterns)]` on by default

warning: unused variable: `collection_config`
   --> src/storage/viper/factory.rs:145:9
    |
145 |         collection_config: &CollectionConfig,
    |         ^^^^^^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_collection_config`

warning: unused variable: `filters`
   --> src/storage/viper/search_impl.rs:126:51
    |
126 |                 SearchOperation::MetadataFilter { filters, limit } => {
    |                                                   ^^^^^^^ help: try ignoring the field: `filters: _`

warning: unused variable: `disk_manager`
   --> src/storage/wal/avro.rs:254:13
    |
254 |         let disk_manager = self
    |             ^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_disk_manager`

warning: unused variable: `disk_manager`
   --> src/storage/wal/bincode.rs:223:13
    |
223 |         let disk_manager = self
    |             ^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_disk_manager`

warning: unused variable: `old_key`
   --> src/storage/wal/memtable/art.rs:140:25
    |
140 |                     let old_key = key.clone();
    |                         ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_old_key`

warning: unused variable: `old_sequences`
   --> src/storage/wal/memtable/art.rs:141:25
    |
141 |                     let old_sequences = sequences.clone();
    |                         ^^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_old_sequences`

warning: unused variable: `keep_versions`
   --> src/storage/wal/memtable/art.rs:380:32
    |
380 |     fn compact_mvcc(&mut self, keep_versions: usize) -> u64 {
    |                                ^^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_keep_versions`

warning: type `TrendDirection` is more private than the item `monitor::PerformanceTrend::latency_trend`
   --> src/index/axis/monitor.rs:220:5
    |
220 |     pub latency_trend: TrendDirection,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ field `monitor::PerformanceTrend::latency_trend` is reachable at visibility `pub`
    |
note: but type `TrendDirection` is only usable at visibility `pub(self)`
   --> src/index/axis/monitor.rs:229:1
    |
229 | enum TrendDirection {
    | ^^^^^^^^^^^^^^^^^^^
    = note: `#[warn(private_interfaces)]` on by default

warning: type `TrendDirection` is more private than the item `monitor::PerformanceTrend::throughput_trend`
   --> src/index/axis/monitor.rs:221:5
    |
221 |     pub throughput_trend: TrendDirection,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ field `monitor::PerformanceTrend::throughput_trend` is reachable at visibility `pub`
    |
note: but type `TrendDirection` is only usable at visibility `pub(self)`
   --> src/index/axis/monitor.rs:229:1
    |
229 | enum TrendDirection {
    | ^^^^^^^^^^^^^^^^^^^

warning: type `TrendDirection` is more private than the item `monitor::PerformanceTrend::error_rate_trend`
   --> src/index/axis/monitor.rs:222:5
    |
222 |     pub error_rate_trend: TrendDirection,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ field `monitor::PerformanceTrend::error_rate_trend` is reachable at visibility `pub`
    |
note: but type `TrendDirection` is only usable at visibility `pub(self)`
   --> src/index/axis/monitor.rs:229:1
    |
229 | enum TrendDirection {
    | ^^^^^^^^^^^^^^^^^^^

warning: field `ml` is never read
   --> src/compute/algorithms.rs:118:5
    |
108 | pub struct HNSWIndex {
    |            --------- field in this struct
...
118 |     ml: f32,
    |     ^^
    |
    = note: `#[warn(dead_code)]` on by default

warning: field `config` is never read
  --> src/compute/quantization.rs:82:5
   |
81 | pub struct QuantizationEngine {
   |            ------------------ field in this struct
82 |     config: QuantizationConfig,
   |     ^^^^^^

warning: field `config` is never read
   --> src/compute/quantization.rs:616:5
    |
615 | pub struct BinaryQuantizer {
    |            --------------- field in this struct
616 |     config: QuantizationConfig,
    |     ^^^^^^

warning: field `config` is never read
   --> src/compute/quantization.rs:739:5
    |
738 | pub struct OptimizedProductQuantizer {
    |            ------------------------- field in this struct
739 |     config: QuantizationConfig,
    |     ^^^^^^

warning: field `election_jitter` is never read
  --> src/consensus/raft/leader_election.rs:31:5
   |
20 | pub struct LeaderElection {
   |            -------------- field in this struct
...
31 |     election_jitter: Duration,
   |     ^^^^^^^^^^^^^^^

warning: fields `config`, `region_states`, `global_metadata_cache`, and `coordination_protocol` are never read
   --> src/core/global_coordination.rs:400:5
    |
399 | pub struct GlobalMetadataCoordinator {
    |            ------------------------- fields in this struct
400 |     config: GlobalCoordinationConfig,
    |     ^^^^^^
401 |     region_states: HashMap<String, RegionState>,
    |     ^^^^^^^^^^^^^
402 |     global_metadata_cache: GlobalMetadataCache,
    |     ^^^^^^^^^^^^^^^^^^^^^
403 |     coordination_protocol: CoordinationProtocol,
    |     ^^^^^^^^^^^^^^^^^^^^^

warning: fields `tenant_metadata`, `collection_metadata`, `schema_cache`, and `routing_table` are never read
   --> src/core/global_coordination.rs:428:5
    |
426 | pub struct GlobalMetadataCache {
    |            ------------------- fields in this struct
427 |     /// Tenant metadata distributed across regions
428 |     tenant_metadata: HashMap<String, TenantMetadata>,
    |     ^^^^^^^^^^^^^^^
429 |     /// Collection metadata with location affinity
430 |     collection_metadata: HashMap<String, CollectionMetadata>,
    |     ^^^^^^^^^^^^^^^^^^^
431 |     /// Schema definitions cached globally
432 |     schema_cache: HashMap<String, SchemaMetadata>,
    |     ^^^^^^^^^^^^
433 |     /// Routing table for efficient request routing
434 |     routing_table: RoutingTable,
    |     ^^^^^^^^^^^^^

warning: fields `tenant_cache` and `cluster_health` are never read
   --> src/core/routing.rs:278:5
    |
276 | pub struct SmartRouter {
    |            ----------- fields in this struct
277 |     config: RoutingConfig,
278 |     tenant_cache: HashMap<String, RoutingContext>,
    |     ^^^^^^^^^^^^
279 |     cluster_health: HashMap<String, ClusterHealth>,
    |     ^^^^^^^^^^^^^^

warning: field `performance_predictor` is never read
  --> src/index/axis/adaptive_engine.rs:28:5
   |
20 | pub struct AdaptiveIndexEngine {
   |            ------------------- field in this struct
...
28 |     performance_predictor: Arc<PerformancePredictor>,
   |     ^^^^^^^^^^^^^^^^^^^^^

warning: field `models` is never read
   --> src/index/axis/adaptive_engine.rs:172:5
    |
170 | pub struct PerformancePredictor {
    |            -------------------- field in this struct
171 |     /// Prediction models
172 |     models: Arc<RwLock<PredictionModels>>,
    |     ^^^^^^

warning: field `temporal_detector` is never read
  --> src/index/axis/analyzer.rs:35:5
   |
21 | pub struct CollectionAnalyzer {
   |            ------------------ field in this struct
...
35 |     temporal_detector: Arc<TemporalPatternDetector>,
   |     ^^^^^^^^^^^^^^^^^

warning: fields `timestamp`, `metadata_filters_count`, and `result_count` are never read
  --> src/index/axis/analyzer.rs:54:9
   |
52 | struct QueryEvent {
   |        ---------- fields in this struct
53 |     pub query_type: QueryType,
54 |     pub timestamp: DateTime<Utc>,
   |         ^^^^^^^^^
...
57 |     pub metadata_filters_count: usize,
   |         ^^^^^^^^^^^^^^^^^^^^^^
58 |     pub result_count: usize,
   |         ^^^^^^^^^^^^
   |
   = note: `QueryEvent` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `p99_latency_ms` is never read
  --> src/index/axis/analyzer.rs:81:9
   |
73 | struct QueryStatistics {
   |        --------------- field in this struct
...
81 |     pub p99_latency_ms: f64,
   |         ^^^^^^^^^^^^^^
   |
   = note: `QueryStatistics` has derived impls for the traits `Default`, `Clone`, and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `metrics` is never read
  --> src/index/axis/analyzer.rs:98:9
   |
97 | struct TimestampedMetrics {
   |        ------------------ field in this struct
98 |     pub metrics: PerformanceMetrics,
   |         ^^^^^^^
   |
   = note: `TimestampedMetrics` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `dimension` is never read
   --> src/index/axis/analyzer.rs:112:9
    |
110 | struct VectorCharacteristics {
    |        --------------------- field in this struct
111 |     pub vector_count: u64,
112 |     pub dimension: usize,
    |         ^^^^^^^^^
    |
    = note: `VectorCharacteristics` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `access_patterns` is never read
   --> src/index/axis/analyzer.rs:129:5
    |
127 | struct TemporalPatternDetector {
    |        ----------------------- field in this struct
128 |     /// Access patterns per collection
129 |     access_patterns: Arc<RwLock<HashMap<CollectionId, AccessPattern>>>,
    |     ^^^^^^^^^^^^^^^

warning: fields `hourly_distribution`, `daily_distribution`, `recent_activity`, `temporal_pattern`, and `last_updated` are never read
   --> src/index/axis/analyzer.rs:135:9
    |
134 | struct AccessPattern {
    |        ------------- fields in this struct
135 |     pub hourly_distribution: [f32; 24],
    |         ^^^^^^^^^^^^^^^^^^^
136 |     pub daily_distribution: [f32; 7],
    |         ^^^^^^^^^^^^^^^^^^
137 |     pub recent_activity: Vec<ActivityBurst>,
    |         ^^^^^^^^^^^^^^^
138 |     pub temporal_pattern: TemporalPattern,
    |         ^^^^^^^^^^^^^^^^
139 |     pub last_updated: DateTime<Utc>,
    |         ^^^^^^^^^^^^
    |
    = note: `AccessPattern` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: fields `start_time`, `duration`, `intensity`, and `query_count` are never read
   --> src/index/axis/analyzer.rs:145:9
    |
144 | struct ActivityBurst {
    |        ------------- fields in this struct
145 |     pub start_time: DateTime<Utc>,
    |         ^^^^^^^^^^
146 |     pub duration: Duration,
    |         ^^^^^^^^
147 |     pub intensity: f32,
    |         ^^^^^^^^^
148 |     pub query_count: u64,
    |         ^^^^^^^^^^^
    |
    = note: `ActivityBurst` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: method `detect_patterns` is never used
   --> src/index/axis/analyzer.rs:594:14
    |
585 | impl TemporalPatternDetector {
    | ---------------------------- method in this implementation
...
594 |     async fn detect_patterns(&self, collection_id: &CollectionId) -> TemporalPattern {
    |              ^^^^^^^^^^^^^^^

warning: fields `performance_monitor` and `config` are never read
  --> src/index/axis/manager.rs:33:5
   |
22 | pub struct AxisIndexManager {
   |            ---------------- fields in this struct
...
33 |     performance_monitor: Arc<PerformanceMonitor>,
   |     ^^^^^^^^^^^^^^^^^^^
...
42 |     config: AxisConfig,
   |     ^^^^^^

warning: field `rollback_manager` is never read
  --> src/index/axis/migration_engine.rs:23:5
   |
18 | pub struct IndexMigrationEngine {
   |            -------------------- field in this struct
...
23 |     rollback_manager: Arc<RollbackManager>,
   |     ^^^^^^^^^^^^^^^^

warning: field `strategies` is never read
   --> src/index/axis/migration_engine.rs:235:5
    |
233 | pub struct RollbackManager {
    |            --------------- field in this struct
234 |     /// Rollback strategies
235 |     strategies: Vec<Box<dyn RollbackStrategy + Send + Sync>>,
    |     ^^^^^^^^^^

warning: field `alert_history` is never read
  --> src/index/axis/monitor.rs:64:5
   |
56 | struct AlertManager {
   |        ------------ field in this struct
...
64 |     alert_history: Arc<RwLock<Vec<AlertHistory>>>,
   |     ^^^^^^^^^^^^^

warning: fields `trends`, `baselines`, and `anomaly_detector` are never read
  --> src/index/axis/monitor.rs:73:5
   |
71 | struct PerformanceTracker {
   |        ------------------ fields in this struct
72 |     /// Performance trends per collection
73 |     trends: Arc<RwLock<HashMap<CollectionId, PerformanceTrend>>>,
   |     ^^^^^^
...
76 |     baselines: Arc<RwLock<HashMap<CollectionId, BaselineMetrics>>>,
   |     ^^^^^^^^^
...
79 |     anomaly_detector: Arc<AnomalyDetector>,
   |     ^^^^^^^^^^^^^^^^

warning: fields `component_health` and `check_interval` are never read
  --> src/index/axis/monitor.rs:85:5
   |
83 | struct HealthChecker {
   |        ------------- fields in this struct
84 |     /// Component health status
85 |     component_health: Arc<RwLock<HashMap<String, ComponentHealth>>>,
   |     ^^^^^^^^^^^^^^^^
...
88 |     check_interval: Duration,
   |     ^^^^^^^^^^^^^^

warning: fields `collection_id`, `metric_type`, and `value` are never read
   --> src/index/axis/monitor.rs:150:9
    |
148 | struct HistoricalMetric {
    |        ---------------- fields in this struct
149 |     pub timestamp: DateTime<Utc>,
150 |     pub collection_id: Option<CollectionId>,
    |         ^^^^^^^^^^^^^
151 |     pub metric_type: MetricType,
    |         ^^^^^^^^^^^
152 |     pub value: f64,
    |         ^^^^^
    |
    = note: `HistoricalMetric` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: fields `alert`, `resolved_at`, and `resolution_time_ms` are never read
   --> src/index/axis/monitor.rs:204:9
    |
203 | struct AlertHistory {
    |        ------------ fields in this struct
204 |     pub alert: Alert,
    |         ^^^^^
205 |     pub resolved_at: Option<DateTime<Utc>>,
    |         ^^^^^^^^^^^
206 |     pub resolution_time_ms: Option<u64>,
    |         ^^^^^^^^^^^^^^^^^^
    |
    = note: `AlertHistory` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: variants `Improving`, `Stable`, `Degrading`, and `Unknown` are never constructed
   --> src/index/axis/monitor.rs:230:5
    |
229 | enum TrendDirection {
    |      -------------- variants in this enum
230 |     Improving,
    |     ^^^^^^^^^
231 |     Stable,
    |     ^^^^^^
232 |     Degrading,
    |     ^^^^^^^^^
233 |     Unknown,
    |     ^^^^^^^
    |
    = note: `TrendDirection` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: fields `collection_id`, `baseline_latency_ms`, `baseline_throughput_qps`, `baseline_error_rate`, `established_at`, and `sample_count` are never read
   --> src/index/axis/monitor.rs:239:9
    |
238 | struct BaselineMetrics {
    |        --------------- fields in this struct
239 |     pub collection_id: CollectionId,
    |         ^^^^^^^^^^^^^
240 |     pub baseline_latency_ms: f64,
    |         ^^^^^^^^^^^^^^^^^^^
241 |     pub baseline_throughput_qps: f64,
    |         ^^^^^^^^^^^^^^^^^^^^^^^
242 |     pub baseline_error_rate: f64,
    |         ^^^^^^^^^^^^^^^^^^^
243 |     pub established_at: DateTime<Utc>,
    |         ^^^^^^^^^^^^^^
244 |     pub sample_count: u64,
    |         ^^^^^^^^^^^^
    |
    = note: `BaselineMetrics` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `models` is never read
   --> src/index/axis/monitor.rs:250:5
    |
248 | struct AnomalyDetector {
    |        --------------- field in this struct
249 |     /// Anomaly detection models per collection
250 |     models: Arc<RwLock<HashMap<CollectionId, AnomalyModel>>>,
    |     ^^^^^^

warning: fields `collection_id`, `model_type`, `sensitivity`, `training_data`, and `last_trained` are never read
   --> src/index/axis/monitor.rs:256:9
    |
255 | struct AnomalyModel {
    |        ------------ fields in this struct
256 |     pub collection_id: CollectionId,
    |         ^^^^^^^^^^^^^
257 |     pub model_type: AnomalyModelType,
    |         ^^^^^^^^^^
258 |     pub sensitivity: f64,
    |         ^^^^^^^^^^^
259 |     pub training_data: Vec<f64>,
    |         ^^^^^^^^^^^^^
260 |     pub last_trained: DateTime<Utc>,
    |         ^^^^^^^^^^^^
    |
    = note: `AnomalyModel` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: variants `StatisticalThreshold`, `MovingAverage`, `SeasonalDecomposition`, and `MachineLearning` are never constructed
   --> src/index/axis/monitor.rs:266:5
    |
265 | enum AnomalyModelType {
    |      ---------------- variants in this enum
266 |     StatisticalThreshold,
    |     ^^^^^^^^^^^^^^^^^^^^
267 |     MovingAverage,
    |     ^^^^^^^^^^^^^
268 |     SeasonalDecomposition,
    |     ^^^^^^^^^^^^^^^^^^^^^
269 |     MachineLearning,
    |     ^^^^^^^^^^^^^^^
    |
    = note: `AnomalyModelType` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: fields `component_name`, `status`, `last_check`, `error_message`, and `response_time_ms` are never read
   --> src/index/axis/monitor.rs:275:9
    |
274 | struct ComponentHealth {
    |        --------------- fields in this struct
275 |     pub component_name: String,
    |         ^^^^^^^^^^^^^^
276 |     pub status: HealthStatus,
    |         ^^^^^^
277 |     pub last_check: DateTime<Utc>,
    |         ^^^^^^^^^^
278 |     pub error_message: Option<String>,
    |         ^^^^^^^^^^^^^
279 |     pub response_time_ms: f64,
    |         ^^^^^^^^^^^^^^^^
    |
    = note: `ComponentHealth` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: variants `Healthy`, `Degraded`, `Unhealthy`, and `Unknown` are never constructed
   --> src/index/axis/monitor.rs:285:5
    |
284 | enum HealthStatus {
    |      ------------ variants in this enum
285 |     Healthy,
    |     ^^^^^^^
286 |     Degraded,
    |     ^^^^^^^^
287 |     Unhealthy,
    |     ^^^^^^^^^
288 |     Unknown,
    |     ^^^^^^^
    |
    = note: `HealthStatus` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: methods `format_histogram` and `format_summary` are never used
   --> src/monitoring/metrics/exporters.rs:74:8
    |
31  | impl PrometheusExporter {
    | ----------------------- methods in this implementation
...
74  |     fn format_histogram(
    |        ^^^^^^^^^^^^^^^^
...
131 |     fn format_summary(
    |        ^^^^^^^^^^^^^^

warning: field `registry` is never read
  --> src/monitoring/metrics/index_metrics.rs:15:5
   |
14 | pub struct IndexMetricsCollector {
   |            --------------------- field in this struct
15 |     registry: Arc<MetricsRegistry>,
   |     ^^^^^^^^

warning: field `registry` is never read
  --> src/monitoring/metrics/query_metrics.rs:15:5
   |
14 | pub struct QueryMetricsCollector {
   |            --------------------- field in this struct
15 |     registry: Arc<MetricsRegistry>,
   |     ^^^^^^^^

warning: fields `name`, `help`, and `labels` are never read
  --> src/monitoring/metrics/registry.rs:41:5
   |
40 | pub struct Counter {
   |            ------- fields in this struct
41 |     name: String,
   |     ^^^^
42 |     help: String,
   |     ^^^^
43 |     value: Arc<RwLock<f64>>,
44 |     labels: HashMap<String, String>,
   |     ^^^^^^

warning: fields `name`, `help`, and `labels` are never read
  --> src/monitoring/metrics/registry.rs:49:5
   |
48 | pub struct Gauge {
   |            ----- fields in this struct
49 |     name: String,
   |     ^^^^
50 |     help: String,
   |     ^^^^
51 |     value: Arc<RwLock<f64>>,
52 |     labels: HashMap<String, String>,
   |     ^^^^^^

warning: fields `name`, `help`, and `labels` are never read
  --> src/monitoring/metrics/registry.rs:57:5
   |
56 | pub struct HistogramMetric {
   |            --------------- fields in this struct
57 |     name: String,
   |     ^^^^
58 |     help: String,
   |     ^^^^
...
63 |     labels: HashMap<String, String>,
   |     ^^^^^^

warning: fields `name`, `help`, and `labels` are never read
  --> src/monitoring/metrics/registry.rs:68:5
   |
67 | pub struct SummaryMetric {
   |            ------------- fields in this struct
68 |     name: String,
   |     ^^^^
69 |     help: String,
   |     ^^^^
...
73 |     labels: HashMap<String, String>,
   |     ^^^^^^

warning: field `registry` is never read
  --> src/monitoring/metrics/server_metrics.rs:17:5
   |
16 | pub struct ServerMetricsCollector {
   |            ---------------------- field in this struct
17 |     registry: Arc<MetricsRegistry>,
   |     ^^^^^^^^

warning: field `registry` is never read
  --> src/monitoring/metrics/storage_metrics.rs:15:5
   |
14 | pub struct StorageMetricsCollector {
   |            ----------------------- field in this struct
15 |     registry: Arc<MetricsRegistry>,
   |     ^^^^^^^^

warning: method `convert_vector_record` is never used
   --> src/network/grpc/service.rs:163:8
    |
41  | impl ProximaDbGrpcService {
    | ------------------------- method in this implementation
...
163 |     fn convert_vector_record(&self, proto_record: &crate::proto::proximadb::VectorRecord) -> SchemaVectorRecord {
    |        ^^^^^^^^^^^^^^^^^^^^^

warning: field `config` is never read
  --> src/network/middleware/auth.rs:66:5
   |
65 | pub struct AuthLayer {
   |            --------- field in this struct
66 |     config: AuthConfig,
   |     ^^^^^^

warning: field `state` is never read
   --> src/network/middleware/rate_limit.rs:126:5
    |
125 | pub struct RateLimitLayer {
    |            -------------- field in this struct
126 |     state: Arc<RateLimitState>,
    |     ^^^^^

warning: field `wal_strategy_type` is never read
  --> src/services/unified_avro_service.rs:37:5
   |
33 | pub struct UnifiedAvroService {
   |            ------------------ field in this struct
...
37 |     wal_strategy_type: WalStrategyType,
   |     ^^^^^^^^^^^^^^^^^

warning: multiple methods are never used
    --> src/services/unified_avro_service.rs:159:8
     |
75   | impl UnifiedAvroService {
     | ----------------------- methods in this implementation
...
159  |     fn create_versioned_payload(&self, operation_type: &str, data: &[u8]) -> Vec<u8> {
     |        ^^^^^^^^^^^^^^^^^^^^^^^^
...
869  |     fn deserialize_vector_record(&self, avro_bytes: &[u8]) -> Result<JsonValue> {
     |        ^^^^^^^^^^^^^^^^^^^^^^^^^
...
874  |     fn deserialize_batch_request(&self, avro_bytes: &[u8]) -> Result<JsonValue> {
     |        ^^^^^^^^^^^^^^^^^^^^^^^^^
...
879  |     fn deserialize_search_query(&self, avro_bytes: &[u8]) -> Result<JsonValue> {
     |        ^^^^^^^^^^^^^^^^^^^^^^^^
...
894  |     fn extract_optional_string(&self, record: &JsonValue, field: &str) -> Option<String> {
     |        ^^^^^^^^^^^^^^^^^^^^^^^
...
908  |     fn extract_optional_i64(&self, record: &JsonValue, field: &str) -> Option<i64> {
     |        ^^^^^^^^^^^^^^^^^^^^
...
912  |     fn extract_bool(&self, record: &JsonValue, field: &str) -> Result<bool> {
     |        ^^^^^^^^^^^^
...
926  |     fn extract_optional_object<'a>(
     |        ^^^^^^^^^^^^^^^^^^^^^^^
...
936  |     fn extract_vector_array(&self, record: &JsonValue, field: &str) -> Result<Vec<f32>> {
     |        ^^^^^^^^^^^^^^^^^^^^
...
948  |     fn extract_metadata(&self, record: &JsonValue) -> Result<Option<HashMap<String, JsonValue>>> {
     |        ^^^^^^^^^^^^^^^^
...
965  |     fn extract_timestamp(&self, record: &JsonValue) -> Result<i64> {
     |        ^^^^^^^^^^^^^^^^^
...
973  |     async fn process_single_vector_in_batch(
     |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
1040 |     fn create_search_result(
     |        ^^^^^^^^^^^^^^^^^^^^

warning: struct `SearchResult` is never constructed
    --> src/services/unified_avro_service.rs:1240:8
     |
1240 | struct SearchResult {
     |        ^^^^^^^^^^^^

warning: field `compression` is never read
  --> src/storage/encoding/parquet_encoder.rs:11:5
   |
10 | pub struct ParquetEncoder {
   |            -------------- field in this struct
11 |     compression: CompressionType,
   |     ^^^^^^^^^^^

warning: field `disk_manager` is never read
  --> src/storage/engine.rs:73:5
   |
69 | pub struct StorageEngine {
   |            ------------- field in this struct
...
73 |     disk_manager: Arc<DiskManager>,
   |     ^^^^^^^^^^^^
   |
   = note: `StorageEngine` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: method `invalidate_metadata_cache` is never used
   --> src/storage/engine.rs:645:14
    |
82  | impl StorageEngine {
    | ------------------ method in this implementation
...
645 |     async fn invalidate_metadata_cache(&self, collection_id: &CollectionId) {
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: field `config` is never read
   --> src/storage/filesystem/atomic_strategy.rs:193:5
    |
191 | pub struct SameMountTempExecutor {
    |            --------------------- field in this struct
192 |     temp_suffix: String,
193 |     config: AtomicWriteConfig,
    |     ^^^^^^

warning: fields `chunk_size_mb` and `config` are never read
   --> src/storage/filesystem/atomic_strategy.rs:268:5
    |
265 | pub struct CloudOptimizedExecutor {
    |            ---------------------- fields in this struct
...
268 |     chunk_size_mb: usize,
    |     ^^^^^^^^^^^^^
269 |     config: AtomicWriteConfig,
    |     ^^^^^^

warning: fields `role_arn`, `external_id`, and `http_client` are never read
   --> src/storage/filesystem/auth.rs:316:5
    |
315 | pub struct AssumeRoleProvider {
    |            ------------------ fields in this struct
316 |     role_arn: String,
    |     ^^^^^^^^
317 |     external_id: Option<String>,
    |     ^^^^^^^^^^^
318 |     http_client: reqwest::Client,
    |     ^^^^^^^^^^^

warning: field `profile_name` is never read
   --> src/storage/filesystem/auth.rs:352:5
    |
351 | pub struct ProfileCredentialProvider {
    |            ------------------------- field in this struct
352 |     profile_name: String,
    |     ^^^^^^^^^^^^

warning: field `http_client` is never read
   --> src/storage/filesystem/gcs.rs:638:5
    |
636 | pub struct ServiceAccountKeyFileProvider {
    |            ----------------------------- field in this struct
637 |     key_file_path: String,
638 |     http_client: reqwest::Client,
    |     ^^^^^^^^^^^

warning: field `http_client` is never read
   --> src/storage/filesystem/gcs.rs:683:5
    |
681 | pub struct ServiceAccountKeyJsonProvider {
    |            ----------------------------- field in this struct
682 |     key_json: String,
683 |     http_client: reqwest::Client,
    |     ^^^^^^^^^^^

warning: struct `FilesystemKey` is never constructed
  --> src/storage/filesystem/manager.rs:71:8
   |
71 | struct FilesystemKey {
   |        ^^^^^^^^^^^^^

warning: associated function `from_url` is never used
  --> src/storage/filesystem/manager.rs:78:8
   |
77 | impl FilesystemKey {
   | ------------------ associated function in this implementation
78 |     fn from_url(url: &str) -> FsResult<Self> {
   |        ^^^^^^^^

warning: fields `filesystem`, `base_path`, and `retry_config` are never read
   --> src/storage/filesystem/manager.rs:112:5
    |
111 | pub struct ManagedFilesystem {
    |            ----------------- fields in this struct
112 |     filesystem: Box<dyn FileSystem>,
    |     ^^^^^^^^^^
113 |     base_path: String,
    |     ^^^^^^^^^
114 |     retry_config: RetryConfig,
    |     ^^^^^^^^^^^^

warning: methods `execute_with_retry`, `is_auth_error`, and `resolve_path` are never used
   --> src/storage/filesystem/manager.rs:119:14
    |
117 | impl ManagedFilesystem {
    | ---------------------- methods in this implementation
118 |     /// Execute operation with retry and auth refresh
119 |     async fn execute_with_retry<F, T>(&self, operation: F) -> FsResult<T>
    |              ^^^^^^^^^^^^^^^^^^
...
142 |     fn is_auth_error(&self, err: &FilesystemError) -> bool {
    |        ^^^^^^^^^^^^^
...
164 |     fn resolve_path(&self, relative_path: &str) -> String {
    |        ^^^^^^^^^^^^

warning: fields `config`, `storage_backends`, `migration_engine`, `cache_manager`, and `metrics_collector` are never read
   --> src/storage/tiered/mod.rs:569:5
    |
568 | pub struct TieredStorageManager {
    |            -------------------- fields in this struct
569 |     config: TieredStorageConfig,
    |     ^^^^^^
570 |     storage_backends: HashMap<TierLevel, Box<dyn StorageBackendTrait>>,
    |     ^^^^^^^^^^^^^^^^
571 |     migration_engine: MigrationEngine,
    |     ^^^^^^^^^^^^^^^^
572 |     cache_manager: CacheManager,
    |     ^^^^^^^^^^^^^
573 |     metrics_collector: MetricsCollector,
    |     ^^^^^^^^^^^^^^^^^

warning: fields `config`, `migration_queue`, and `active_migrations` are never read
   --> src/storage/tiered/mod.rs:601:5
    |
600 | pub struct MigrationEngine {
    |            --------------- fields in this struct
601 |     config: BackgroundMigrationConfig,
    |     ^^^^^^
602 |     migration_queue: tokio::sync::mpsc::Receiver<MigrationTask>,
    |     ^^^^^^^^^^^^^^^
603 |     active_migrations: HashMap<String, MigrationStatus>,
    |     ^^^^^^^^^^^^^^^^^

warning: fields `l1_cache`, `l2_cache`, `distributed_cache`, and `cache_stats` are never read
   --> src/storage/tiered/mod.rs:646:5
    |
645 | pub struct CacheManager {
    |            ------------ fields in this struct
646 |     l1_cache: Option<Box<dyn CacheTrait>>,
    |     ^^^^^^^^
647 |     l2_cache: Option<Box<dyn CacheTrait>>,
    |     ^^^^^^^^
648 |     distributed_cache: Option<Box<dyn CacheTrait>>,
    |     ^^^^^^^^^^^^^^^^^
649 |     cache_stats: CacheStats,
    |     ^^^^^^^^^^^

warning: fields `storage_metrics`, `migration_metrics`, and `cache_metrics` are never read
   --> src/storage/tiered/mod.rs:672:5
    |
671 | pub struct MetricsCollector {
    |            ---------------- fields in this struct
672 |     storage_metrics: HashMap<TierLevel, StorageMetrics>,
    |     ^^^^^^^^^^^^^^^
673 |     migration_metrics: MigrationMetrics,
    |     ^^^^^^^^^^^^^^^^^
674 |     cache_metrics: HashMap<String, CacheStats>,
    |     ^^^^^^^^^^^^^

warning: fields `next_transaction_id`, `timeout_monitor`, and `deadlock_detector` are never read
   --> src/storage/atomicity.rs:250:5
    |
245 | pub struct AtomicityManager {
    |            ---------------- fields in this struct
...
250 |     next_transaction_id: AtomicU64,
    |     ^^^^^^^^^^^^^^^^^^^
...
256 |     timeout_monitor: Arc<TimeoutMonitor>,
    |     ^^^^^^^^^^^^^^^
...
259 |     deadlock_detector: Arc<DeadlockDetector>,
    |     ^^^^^^^^^^^^^^^^^

warning: fields `waiters` and `acquired_at` are never read
   --> src/storage/atomicity.rs:293:5
    |
285 | struct LockEntry {
    |        --------- fields in this struct
...
293 |     waiters: VecDeque<LockRequest>,
    |     ^^^^^^^
...
296 |     acquired_at: Instant,
    |     ^^^^^^^^^^^
    |
    = note: `LockEntry` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: fields `lock_type` and `acquired_at` are never read
   --> src/storage/atomicity.rs:306:5
    |
301 | struct LockHolder {
    |        ---------- fields in this struct
...
306 |     lock_type: LockType,
    |     ^^^^^^^^^
...
309 |     acquired_at: Instant,
    |     ^^^^^^^^^^^
    |
    = note: `LockHolder` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `requested_at` is never read
   --> src/storage/atomicity.rs:328:5
    |
314 | struct LockRequest {
    |        ----------- field in this struct
...
328 |     requested_at: Instant,
    |     ^^^^^^^^^^^^
    |
    = note: `LockRequest` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: method `grant_lock` is never used
   --> src/storage/atomicity.rs:878:14
    |
766 | impl LockManager {
    | ---------------- method in this implementation
...
878 |     async fn grant_lock(&self, request: LockRequest) {
    |              ^^^^^^^^^^

warning: methods `is_empty` and `latest_sequence` are never used
   --> src/storage/memtable.rs:628:8
    |
626 | impl CollectionMemtable {
    | ----------------------- methods in this implementation
627 |     /// Check if collection is empty
628 |     fn is_empty(&self) -> bool {
    |        ^^^^^^^^
...
633 |     fn latest_sequence(&self) -> Option<u64> {
    |        ^^^^^^^^^^^^^^^

warning: fields `version`, `transaction_id`, `committed_at`, and `metadata` are never read
   --> src/storage/metadata/atomic.rs:98:5
    |
97  | struct VersionInfo {
    |        ----------- fields in this struct
98  |     version: u64,
    |     ^^^^^^^
99  |     transaction_id: TransactionId,
    |     ^^^^^^^^^^^^^^
100 |     committed_at: DateTime<Utc>,
    |     ^^^^^^^^^^^^
101 |     metadata: VersionedCollectionMetadata,
    |     ^^^^^^^^
    |
    = note: `VersionInfo` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `acquired_at` is never read
   --> src/storage/metadata/atomic.rs:109:5
    |
106 | struct LockInfo {
    |        -------- field in this struct
...
109 |     acquired_at: DateTime<Utc>,
    |     ^^^^^^^^^^^
    |
    = note: `LockInfo` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: variant `Shared` is never constructed
   --> src/storage/metadata/atomic.rs:114:5
    |
113 | enum LockType {
    |      -------- variant in this enum
114 |     Shared,
    |     ^^^^^^
    |
    = note: `LockType` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `mvcc_reads` is never read
   --> src/storage/metadata/atomic.rs:161:5
    |
155 | struct AtomicStoreStats {
    |        ---------------- field in this struct
...
161 |     mvcc_reads: u64,
    |     ^^^^^^^^^^
    |
    = note: `AtomicStoreStats` has derived impls for the traits `Default` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `atomic_writer` is never read
   --> src/storage/metadata/backends/filestore_backend.rs:314:5
    |
304 | pub struct FilestoreMetadataBackend {
    |            ------------------------ field in this struct
...
314 |     atomic_writer: Box<dyn AtomicWriteExecutor>,
    |     ^^^^^^^^^^^^^

warning: variant `Update` is never constructed
   --> src/storage/metadata/backends/memory_backend.rs:257:5
    |
255 | enum IndexOperation {
    |      -------------- variant in this enum
256 |     Insert,
257 |     Update,
    |     ^^^^^^
    |
    = note: `IndexOperation` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: fields `flusher` and `search_engine` are never read
  --> src/storage/strategy/viper.rs:31:5
   |
27 | pub struct ViperStrategy {
   |            ------------- fields in this struct
...
31 |     flusher: Arc<ViperParquetFlusher>,
   |     ^^^^^^^
...
35 |     search_engine: Arc<ViperSearchEngine>,
   |     ^^^^^^^^^^^^^

warning: field `time_precision` is never read
   --> src/storage/viper/adapter.rs:116:5
    |
114 | pub struct TimeSeriesAdapter<'a> {
    |            ----------------- field in this struct
115 |     base_adapter: VectorRecordSchemaAdapter<'a>,
116 |     time_precision: TimePrecision,
    |     ^^^^^^^^^^^^^^

warning: field `compression_type` is never read
   --> src/storage/viper/adapter.rs:149:5
    |
147 | pub struct CompressedVectorAdapter<'a> {
    |            ----------------------- field in this struct
148 |     base_adapter: VectorRecordSchemaAdapter<'a>,
149 |     compression_type: VectorCompressionType,
    |     ^^^^^^^^^^^^^^^^

warning: field `filesystem` is never read
  --> src/storage/viper/atomic_operations.rs:22:5
   |
17 | pub struct CollectionLockManager {
   |            --------------------- field in this struct
...
22 |     filesystem: Arc<FilesystemFactory>,
   |     ^^^^^^^^^^

warning: fields `pending_operations`, `last_flush_timestamp`, `last_compaction_timestamp`, and `allow_reads_during_staging` are never read
  --> src/storage/viper/atomic_operations.rs:35:5
   |
27 | pub struct CollectionLock {
   |            -------------- fields in this struct
...
35 |     pending_operations: Vec<OperationType>,
   |     ^^^^^^^^^^^^^^^^^^
...
41 |     last_flush_timestamp: Option<DateTime<Utc>>,
   |     ^^^^^^^^^^^^^^^^^^^^
42 |     last_compaction_timestamp: Option<DateTime<Utc>>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^
...
45 |     allow_reads_during_staging: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: `CollectionLock` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: field `active_flushes` is never read
  --> src/storage/viper/atomic_operations.rs:65:5
   |
57 | pub struct AtomicFlusher {
   |            ------------- field in this struct
...
65 |     active_flushes: Arc<Mutex<HashMap<CollectionId, FlushOperation>>>,
   |     ^^^^^^^^^^^^^^

warning: field `active_compactions` is never read
  --> src/storage/viper/atomic_operations.rs:87:5
   |
79 | pub struct AtomicCompactor {
   |            --------------- field in this struct
...
87 |     active_compactions: Arc<Mutex<HashMap<CollectionId, CompactionOperation>>>,
   |     ^^^^^^^^^^^^^^^^^^

warning: field `simd_capabilities` is never read
  --> src/storage/viper/compression.rs:25:5
   |
20 | pub struct SimdCompressionEngine {
   |            --------------------- field in this struct
...
25 |     simd_capabilities: SimdCapabilities,
   |     ^^^^^^^^^^^^^^^^^

warning: field `simd_capabilities` is never read
   --> src/storage/viper/compression.rs:592:5
    |
591 | struct Lz4Backend {
    |        ---------- field in this struct
592 |     simd_capabilities: SimdCapabilities,
    |     ^^^^^^^^^^^^^^^^^

warning: field `simd_capabilities` is never read
   --> src/storage/viper/compression.rs:633:5
    |
631 | struct ZstdBackend {
    |        ----------- field in this struct
632 |     level: i32,
633 |     simd_capabilities: SimdCapabilities,
    |     ^^^^^^^^^^^^^^^^^

warning: field `simd_capabilities` is never read
   --> src/storage/viper/compression.rs:675:5
    |
674 | struct SnappyBackend {
    |        ------------- field in this struct
675 |     simd_capabilities: SimdCapabilities,
    |     ^^^^^^^^^^^^^^^^^

warning: field `simd_level` is never read
  --> src/storage/viper/index.rs:98:5
   |
87 | pub struct HNSWIndex {
   |            --------- field in this struct
...
98 |     simd_level: SimdLevel,
   |     ^^^^^^^^^^

warning: field `level` is never read
   --> src/storage/viper/index.rs:148:5
    |
143 | struct HNSWLayer {
    |        --------- field in this struct
...
148 |     level: usize,
    |     ^^^^^
    |
    = note: `HNSWLayer` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: fields `centroids`, `inverted_lists`, `vectors`, `distance_metric`, `config`, and `stats` are never read
   --> src/storage/viper/index.rs:634:5
    |
632 | pub struct IVFIndex {
    |            -------- fields in this struct
633 |     /// Cluster centroids
634 |     centroids: Vec<Vec<f32>>,
    |     ^^^^^^^^^
...
637 |     inverted_lists: Vec<Vec<VectorId>>,
    |     ^^^^^^^^^^^^^^
...
640 |     vectors: Arc<RwLock<HashMap<VectorId, Vec<f32>>>>,
    |     ^^^^^^^
...
643 |     distance_metric: DistanceMetric,
    |     ^^^^^^^^^^^^^^^
...
646 |     config: IVFConfig,
    |     ^^^^^^
...
649 |     stats: Arc<RwLock<IndexStats>>,
    |     ^^^^^

warning: fields `ivf_index` and `config` are never read
   --> src/storage/viper/index.rs:685:5
    |
680 | pub struct ViperIndexManager {
    |            ----------------- fields in this struct
...
685 |     ivf_index: Option<Arc<RwLock<IVFIndex>>>,
    |     ^^^^^^^^^
...
688 |     config: ViperConfig,
    |     ^^^^^^

warning: field `directory_cache` is never read
  --> src/storage/viper/partitioner.rs:35:5
   |
24 | pub struct FilesystemPartitioner {
   |            --------------------- field in this struct
...
35 |     directory_cache: Arc<RwLock<DirectoryCache>>,
   |     ^^^^^^^^^^^^^^^

warning: fields `collection_dirs`, `partition_files`, and `last_refresh` are never read
   --> src/storage/viper/partitioner.rs:225:5
    |
223 | pub struct DirectoryCache {
    |            -------------- fields in this struct
224 |     /// Collection to partition directory mapping
225 |     collection_dirs: HashMap<CollectionId, PathBuf>,
    |     ^^^^^^^^^^^^^^^
...
228 |     partition_files: HashMap<PartitionId, Vec<FileMetadata>>,
    |     ^^^^^^^^^^^^^^^
...
231 |     last_refresh: Option<DateTime<Utc>>,
    |     ^^^^^^^^^^^^
    |
    = note: `DirectoryCache` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: fields `access_stats` and `storage_stats` are never read
   --> src/storage/viper/partitioner.rs:258:5
    |
256 | pub struct PartitionMetadataTracker {
    |            ------------------------ fields in this struct
257 |     /// Per-partition access statistics
258 |     access_stats: HashMap<PartitionId, AccessStatistics>,
    |     ^^^^^^^^^^^^
...
261 |     storage_stats: HashMap<PartitionId, StorageStatistics>,
    |     ^^^^^^^^^^^^^
    |
    = note: `PartitionMetadataTracker` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: fields `active_operations` and `policies` are never read
   --> src/storage/viper/partitioner.rs:312:5
    |
307 | pub struct ReorganizationScheduler {
    |            ----------------------- fields in this struct
...
312 |     active_operations: Arc<RwLock<HashMap<CollectionId, ReorganizationOperation>>>,
    |     ^^^^^^^^^^^^^^^^^
...
315 |     policies: Arc<RwLock<ReorganizationPolicies>>,
    |     ^^^^^^^^

warning: field `cluster_threshold` is never read
   --> src/storage/viper/processor.rs:175:5
    |
173 | pub struct SimilarityVectorProcessor<'a> {
    |            ------------------------- field in this struct
174 |     base_processor: VectorRecordProcessor<'a>,
175 |     cluster_threshold: f32,
    |     ^^^^^^^^^^^^^^^^^

warning: methods `extract_vector_from_wal_entry`, `is_wal_vector_valid`, `matches_metadata_filters`, and `compute_vector_similarity` are never used
   --> src/storage/viper/search_engine.rs:752:14
    |
143 | impl ViperProgressiveSearchEngine {
    | --------------------------------- methods in this implementation
...
752 |     async fn extract_vector_from_wal_entry(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
794 |     async fn is_wal_vector_valid(&self, wal_vector: &WalVectorRecord) -> bool {
    |              ^^^^^^^^^^^^^^^^^^^
...
808 |     fn matches_metadata_filters(
    |        ^^^^^^^^^^^^^^^^^^^^^^^^
...
826 |     async fn compute_vector_similarity(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: struct `WalVectorRecord` is never constructed
    --> src/storage/viper/search_engine.rs:1051:8
     |
1051 | struct WalVectorRecord {
     |        ^^^^^^^^^^^^^^^

warning: enum `WalOperationType` is never used
    --> src/storage/viper/search_engine.rs:1061:6
     |
1061 | enum WalOperationType {
     |      ^^^^^^^^^^^^^^^^

warning: function `cosine_similarity` is never used
    --> src/storage/viper/search_engine.rs:1068:4
     |
1068 | fn cosine_similarity(a: &[f32], b: &[f32]) -> f32 {
     |    ^^^^^^^^^^^^^^^^^

warning: function `calculate_sparsity_ratio` is never used
  --> src/storage/viper/storage_engine.rs:40:4
   |
40 | fn calculate_sparsity_ratio(vector: &[f32]) -> f32 {
   |    ^^^^^^^^^^^^^^^^^^^^^^^^

warning: fields `clusters`, `partitions`, and `writer_pool` are never read
  --> src/storage/viper/storage_engine.rs:54:5
   |
46 | pub struct ViperStorageEngine {
   |            ------------------ fields in this struct
...
54 |     clusters: Arc<RwLock<HashMap<ClusterId, ClusterMetadata>>>,
   |     ^^^^^^^^
...
57 |     partitions: Arc<RwLock<HashMap<PartitionId, PartitionMetadata>>>,
   |     ^^^^^^^^^^
...
69 |     writer_pool: Arc<ParquetWriterPool>,
   |     ^^^^^^^^^^^

warning: fields `writers` and `max_concurrent_writers` are never read
   --> src/storage/viper/storage_engine.rs:141:5
    |
140 | pub struct ParquetWriterPool {
    |            ----------------- fields in this struct
141 |     writers: Arc<RwLock<HashMap<PartitionId, ParquetWriter>>>,
    |     ^^^^^^^
142 |     max_concurrent_writers: usize,
    |     ^^^^^^^^^^^^^^^^^^^^^^

warning: fields `partition_id`, `file_url`, `schema`, `row_group_size`, `current_batch`, and `compression_algorithm` are never read
   --> src/storage/viper/storage_engine.rs:147:5
    |
146 | pub struct ParquetWriter {
    |            ------------- fields in this struct
147 |     partition_id: PartitionId,
    |     ^^^^^^^^^^^^
148 |     file_url: String,
    |     ^^^^^^^^
149 |     schema: ParquetSchema,
    |     ^^^^^^
150 |     row_group_size: usize,
    |     ^^^^^^^^^^^^^^
151 |     current_batch: Vec<ViperVector>,
    |     ^^^^^^^^^^^^^
152 |     compression_algorithm: CompressionAlgorithm,
    |     ^^^^^^^^^^^^^^^^^^^^^

warning: multiple methods are never used
    --> src/storage/viper/storage_engine.rs:736:14
     |
217  | impl ViperStorageEngine {
     | ----------------------- methods in this implementation
...
736  |     async fn insert_cluster_batch(
     |              ^^^^^^^^^^^^^^^^^^^^
...
763  |     async fn convert_to_viper_vectors(
     |              ^^^^^^^^^^^^^^^^^^^^^^^^
...
796  |     fn create_sparse_viper_vector(
     |        ^^^^^^^^^^^^^^^^^^^^^^^^^^
...
829  |     fn create_dense_viper_vector(
     |        ^^^^^^^^^^^^^^^^^^^^^^^^^
...
853  |     fn determine_storage_format(&self, vector: &[f32]) -> VectorStorageFormat {
     |        ^^^^^^^^^^^^^^^^^^^^^^^^
...
865  |     async fn write_vectors_to_parquet(
     |              ^^^^^^^^^^^^^^^^^^^^^^^^
...
918  |     fn create_optimized_schema(&self, vectors: &[ViperVector]) -> ParquetSchema {
     |        ^^^^^^^^^^^^^^^^^^^^^^^
...
1064 |     async fn update_cluster_metadata(
     |              ^^^^^^^^^^^^^^^^^^^^^^^
...
1332 |     async fn apply_vector_insert(
     |              ^^^^^^^^^^^^^^^^^^^
...
1345 |     async fn apply_vector_update(
     |              ^^^^^^^^^^^^^^^^^^^
...
1359 |     async fn apply_vector_delete(
     |              ^^^^^^^^^^^^^^^^^^^
...
1371 |     async fn apply_cluster_update(
     |              ^^^^^^^^^^^^^^^^^^^^
...
1388 |     async fn apply_partition_create(
     |              ^^^^^^^^^^^^^^^^^^^^^^
...
1421 |     async fn apply_compaction_operation(
     |              ^^^^^^^^^^^^^^^^^^^^^^^^^^
...
1434 |     async fn apply_tier_migration(
     |              ^^^^^^^^^^^^^^^^^^^^
...
1450 |     async fn apply_model_update(
     |              ^^^^^^^^^^^^^^^^^^

warning: associated items `new`, `add_vectors`, `should_flush`, and `flush` are never used
    --> src/storage/viper/storage_engine.rs:1807:8
     |
1806 | impl ParquetWriter {
     | ------------------ associated items in this implementation
1807 |     fn new(
     |        ^^^
...
1824 |     async fn add_vectors(&mut self, vectors: Vec<ViperVector>) -> Result<()> {
     |              ^^^^^^^^^^^
...
1829 |     fn should_flush(&self) -> bool {
     |        ^^^^^^^^^^^^
...
1833 |     async fn flush(&mut self) -> Result<()> {
     |              ^^^^^

warning: method `get_all_segment_paths` is never used
  --> src/storage/wal/disk.rs:96:8
   |
70 | impl CollectionDiskLayout {
   | ------------------------- method in this implementation
...
96 |     fn get_all_segment_paths(&self) -> Vec<PathBuf> {
   |        ^^^^^^^^^^^^^^^^^^^^^

warning: methods `estimate_compression_ratio` and `estimate_entry_size` are never used
   --> src/storage/wal/disk.rs:498:8
    |
120 | impl WalDiskManager {
    | ------------------- methods in this implementation
...
498 |     fn estimate_compression_ratio(&self, entries: &[WalEntry], compressed_size: u64) -> f64 {
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^
...
509 |     fn estimate_entry_size(&self, entry: &WalEntry) -> usize {
    |        ^^^^^^^^^^^^^^^^^^^

warning: field `collection_id` is never read
  --> src/storage/wal/memtable/art.rs:49:5
   |
43 | struct CollectionArt {
   |        ------------- field in this struct
...
49 |     collection_id: CollectionId,
   |     ^^^^^^^^^^^^^
   |
   = note: `CollectionArt` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: struct `ArtIndex` is never constructed
  --> src/storage/wal/memtable/art.rs:59:8
   |
59 | struct ArtIndex {
   |        ^^^^^^^^

warning: enum `ArtNode` is never used
  --> src/storage/wal/memtable/art.rs:66:6
   |
66 | enum ArtNode {
   |      ^^^^^^^

warning: multiple associated items are never used
   --> src/storage/wal/memtable/art.rs:102:8
    |
101 | impl ArtIndex {
    | ------------- associated items in this implementation
102 |     fn new() -> Self {
    |        ^^^
...
110 |     fn insert(&mut self, key: &str, sequence: u64) {
    |        ^^^^^^
...
126 |     fn insert_recursive(
    |        ^^^^^^^^^^^^^^^^
...
210 |     fn search(&self, key: &str) -> Option<Vec<u64>> {
    |        ^^^^^^
...
218 |     fn search_recursive(
    |        ^^^^^^^^^^^^^^^^
...
250 |     fn remove_up_to(&mut self, key: &str, up_to_sequence: u64) {
    |        ^^^^^^^^^^^^
...
256 |     fn remove_recursive(
    |        ^^^^^^^^^^^^^^^^
...
291 |     fn estimate_memory(&self) -> usize {
    |        ^^^^^^^^^^^^^^^

warning: field `collection_id` is never read
  --> src/storage/wal/memtable/btree.rs:45:5
   |
37 | struct CollectionBTree {
   |        --------------- field in this struct
...
45 |     collection_id: CollectionId,
   |     ^^^^^^^^^^^^^
   |
   = note: `CollectionBTree` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: field `collection_id` is never read
  --> src/storage/wal/memtable/hashmap.rs:45:5
   |
37 | struct CollectionHashMap {
   |        ----------------- field in this struct
...
45 |     collection_id: CollectionId,
   |     ^^^^^^^^^^^^^
   |
   = note: `CollectionHashMap` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: field `collection_id` is never read
  --> src/storage/wal/memtable/skiplist.rs:47:5
   |
39 | struct CollectionSkipList {
   |        ------------------ field in this struct
...
47 |     collection_id: CollectionId,
   |     ^^^^^^^^^^^^^
   |
   = note: `CollectionSkipList` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: use of `async fn` in public traits is discouraged as auto trait bounds cannot be specified
  --> src/monitoring/metrics/collector.rs:62:5
   |
62 |     async fn collect_metrics(&self) -> Result<HashMap<String, f64>>;
   |     ^^^^^
   |
   = note: you can suppress this lint if you plan to use the trait only in your own code, or do not care about auto traits like `Send` on the `Future`
   = note: `#[warn(async_fn_in_trait)]` on by default
help: you can alternatively desugar to a normal `fn` that returns `impl Future` and add any desired bounds such as `Send`, but these cannot be relaxed without a breaking API change
   |
62 -     async fn collect_metrics(&self) -> Result<HashMap<String, f64>>;
62 +     fn collect_metrics(&self) -> impl std::future::Future<Output = Result<HashMap<String, f64>>> + Send;
   |

warning: unused `std::result::Result` that must be used
   --> src/monitoring/metrics/collector.rs:166:9
    |
166 |         self.process_alerts(alerts).await;
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: this `Result` may be an `Err` variant, which should be handled
    = note: `#[warn(unused_must_use)]` on by default
help: use `let _ = ...` to ignore the resulting value
    |
166 |         let _ = self.process_alerts(alerts).await;
    |         +++++++

warning: unused `std::result::Result` that must be used
  --> src/storage/viper/adapter.rs:79:13
   |
79 |             extra_meta_builder.append(true);
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: this `Result` may be an `Err` variant, which should be handled
help: use `let _ = ...` to ignore the resulting value
   |
79 |             let _ = extra_meta_builder.append(true);
   |             +++++++

warning: `proximadb` (lib) generated 194 warnings (run `cargo fix --lib -p proximadb` to apply 21 suggestions)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 1m 14s
     Running `target/debug/proximadb-server --config config.toml`
[2m2025-06-20T02:11:01.905420Z[0m [32m INFO[0m [2mproximadb_server[0m[2m:[0m [2msrc/bin/server.rs[0m[2m:[0m[2m78:[0m 🔧 Initializing hardware detection...
[2m2025-06-20T02:11:01.905606Z[0m [32m INFO[0m [2mproximadb::compute::hardware_detection[0m[2m:[0m [2msrc/compute/hardware_detection.rs[0m[2m:[0m[2m167:[0m 🔍 Detecting hardware capabilities...
[2m2025-06-20T02:11:01.905637Z[0m [34mDEBUG[0m [2mproximadb::compute::hardware_detection[0m[2m:[0m [2msrc/compute/hardware_detection.rs[0m[2m:[0m[2m195:[0m Detecting CPU capabilities...
[2m2025-06-20T02:11:01.908694Z[0m [34mDEBUG[0m [2mproximadb::compute::hardware_detection[0m[2m:[0m [2msrc/compute/hardware_detection.rs[0m[2m:[0m[2m259:[0m Detecting GPU capabilities...
[2m2025-06-20T02:11:01.953650Z[0m [34mDEBUG[0m [2mproximadb::compute::hardware_detection[0m[2m:[0m [2msrc/compute/hardware_detection.rs[0m[2m:[0m[2m299:[0m Detecting memory information...
[2m2025-06-20T02:11:01.954193Z[0m [34mDEBUG[0m [2mproximadb::compute::hardware_detection[0m[2m:[0m [2msrc/compute/hardware_detection.rs[0m[2m:[0m[2m319:[0m Determining optimization paths...
[2m2025-06-20T02:11:01.954326Z[0m [32m INFO[0m [2mproximadb::compute::hardware_detection[0m[2m:[0m [2msrc/compute/hardware_detection.rs[0m[2m:[0m[2m390:[0m 🔧 Hardware Detection Complete:
[2m2025-06-20T02:11:01.954425Z[0m [32m INFO[0m [2mproximadb::compute::hardware_detection[0m[2m:[0m [2msrc/compute/hardware_detection.rs[0m[2m:[0m[2m391:[0m   CPU: Intel(R) Xeon(R) CPU E5-2680 0 @ 2.70GHz (16 cores, 32 threads)
[2m2025-06-20T02:11:01.954529Z[0m [32m INFO[0m [2mproximadb::compute::hardware_detection[0m[2m:[0m [2msrc/compute/hardware_detection.rs[0m[2m:[0m[2m395:[0m   SIMD: Avx (SSE:true AVX:true AVX2:false FMA:false)
[2m2025-06-20T02:11:01.954606Z[0m [32m INFO[0m [2mproximadb::compute::hardware_detection[0m[2m:[0m [2msrc/compute/hardware_detection.rs[0m[2m:[0m[2m401:[0m   CUDA: 4 devices available (version: Some("Cuda compilation tools, release 12.9, V12.9.41"))
[2m2025-06-20T02:11:01.954690Z[0m [32m INFO[0m [2mproximadb::compute::hardware_detection[0m[2m:[0m [2msrc/compute/hardware_detection.rs[0m[2m:[0m[2m408:[0m     GPU 0: Tesla M10 (8.0 GB VRAM)
[2m2025-06-20T02:11:01.954771Z[0m [32m INFO[0m [2mproximadb::compute::hardware_detection[0m[2m:[0m [2msrc/compute/hardware_detection.rs[0m[2m:[0m[2m408:[0m     GPU 1: Tesla M10 (8.0 GB VRAM)
[2m2025-06-20T02:11:01.954873Z[0m [32m INFO[0m [2mproximadb::compute::hardware_detection[0m[2m:[0m [2msrc/compute/hardware_detection.rs[0m[2m:[0m[2m408:[0m     GPU 2: Tesla M10 (8.0 GB VRAM)
[2m2025-06-20T02:11:01.954921Z[0m [32m INFO[0m [2mproximadb::compute::hardware_detection[0m[2m:[0m [2msrc/compute/hardware_detection.rs[0m[2m:[0m[2m408:[0m     GPU 3: Tesla M10 (8.0 GB VRAM)
[2m2025-06-20T02:11:01.955013Z[0m [32m INFO[0m [2mproximadb::compute::hardware_detection[0m[2m:[0m [2msrc/compute/hardware_detection.rs[0m[2m:[0m[2m418:[0m   Preferred Backend: Cuda { device_id: 3 }
[2m2025-06-20T02:11:01.955091Z[0m [32m INFO[0m [2mproximadb::compute::hardware_detection[0m[2m:[0m [2msrc/compute/hardware_detection.rs[0m[2m:[0m[2m419:[0m   Bulk Insert Batch Size: 4000
[2m2025-06-20T02:11:01.955178Z[0m [33m WARN[0m [2mproximadb::compute::hardware_detection[0m[2m:[0m [2msrc/compute/hardware_detection.rs[0m[2m:[0m[2m426:[0m ⚠️  CPU supports AVX but not AVX2/FMA - using safe AVX-only implementation
[2m2025-06-20T02:11:01.964771Z[0m [32m INFO[0m [2mproximadb_server[0m[2m:[0m [2msrc/bin/server.rs[0m[2m:[0m[2m103:[0m Starting ProximaDB server with config: Config { server: ServerConfig { node_id: "proximadb-node-1", bind_address: "0.0.0.0", port: 5678, data_dir: "/data/proximadb/1" }, storage: StorageConfig { data_dirs: ["/data/proximadb/1", "/data/proximadb/2"], wal_dir: "/data/proximadb/1/wal", storage_layout: StorageLayoutConfig { base_paths: [StorageBasePath { base_dir: "/data/proximadb", instance_id: 1, mount_point: Some("/data"), disk_type: NvmeSsd { max_iops: 100000 }, capacity_config: CapacityConfig { max_wal_size_mb: Some(2048), max_storage_size_mb: None, metadata_reserved_mb: 512, warning_threshold_percent: 85.0 } }, StorageBasePath { base_dir: "/data/proximadb", instance_id: 2, mount_point: Some("/data2"), disk_type: SataSsd { max_iops: 75000 }, capacity_config: CapacityConfig { max_wal_size_mb: Some(2048), max_storage_size_mb: None, metadata_reserved_mb: 0, warning_threshold_percent: 85.0 } }], node_instance: 1, assignment_strategy: HashBased, temp_config: TempDirectoryConfig { use_same_directory: true, temp_suffix: "___temp", compaction_suffix: "___compaction", flush_suffix: "___flushed", cleanup_on_startup: true } }, mmap_enabled: true, lsm_config: LsmConfig { memtable_size_mb: 64, level_count: 7, compaction_threshold: 4, block_size_kb: 64 }, cache_size_mb: 2048, bloom_filter_bits: 12, filesystem_config: FilesystemConfig { enable_write_strategy_cache: true, temp_strategy: SameDirectory, atomic_config: AtomicOperationsConfig { enable_local_atomic: true, enable_object_store_atomic: true, cleanup_temp_on_startup: true } }, metadata_backend: Some(MetadataBackendConfig { backend_type: "filestore", storage_url: "file:///data/proximadb/1/metadata", cloud_config: None, cache_size_mb: Some(128), flush_interval_secs: Some(30) }) }, consensus: ConsensusConfig { node_id: Some(1), cluster_peers: [], election_timeout_ms: 5000, heartbeat_interval_ms: 1000, snapshot_threshold: 1000 }, api: ApiConfig { grpc_port: 5679, rest_port: 5678, max_request_size_mb: 64, timeout_seconds: 30, enable_tls: Some(false) }, monitoring: MonitoringConfig { metrics_enabled: true, log_level: "info" }, tls: Some(TlsConfig { cert_file: None, key_file: None, enabled: false, bind_interface: None }) }
[2m2025-06-20T02:11:01.965101Z[0m [32m INFO[0m [2mproximadb[0m[2m:[0m [2msrc/lib.rs[0m[2m:[0m[2m72:[0m 🚀 ProximaDB::new - STARTING database initialization
[2m2025-06-20T02:11:01.965530Z[0m [34mDEBUG[0m [2mproximadb::storage::wal::avro[0m[2m:[0m [2msrc/storage/wal/avro.rs[0m[2m:[0m[2m176:[0m 🚀 AvroWalStrategy::initialize - Starting initialization
[2m2025-06-20T02:11:01.965621Z[0m [34mDEBUG[0m [2mproximadb::storage::wal::avro[0m[2m:[0m [2msrc/storage/wal/avro.rs[0m[2m:[0m[2m177:[0m 📋 Config details:
[2m2025-06-20T02:11:01.965693Z[0m [34mDEBUG[0m [2mproximadb::storage::wal::avro[0m[2m:[0m [2msrc/storage/wal/avro.rs[0m[2m:[0m[2m178:[0m   - memtable_type: Art
[2m2025-06-20T02:11:01.965749Z[0m [34mDEBUG[0m [2mproximadb::storage::wal::avro[0m[2m:[0m [2msrc/storage/wal/avro.rs[0m[2m:[0m[2m179:[0m   - compression: Snappy
[2m2025-06-20T02:11:01.965805Z[0m [34mDEBUG[0m [2mproximadb::storage::wal::avro[0m[2m:[0m [2msrc/storage/wal/avro.rs[0m[2m:[0m[2m180:[0m   - memory_flush_size_bytes: 134217728
[2m2025-06-20T02:11:01.965888Z[0m [34mDEBUG[0m [2mproximadb::storage::wal::avro[0m[2m:[0m [2msrc/storage/wal/avro.rs[0m[2m:[0m[2m184:[0m   - data_directories: 1 dirs
[2m2025-06-20T02:11:01.966015Z[0m [32m INFO[0m [2mproximadb::storage::wal::memtable::art[0m[2m:[0m [2msrc/storage/wal/memtable/art.rs[0m[2m:[0m[2m451:[0m ✅ ART (Adaptive Radix Tree) memtable initialized for space efficiency and high concurrency
[2m2025-06-20T02:11:01.967163Z[0m [32m INFO[0m [2mproximadb::storage::wal::avro[0m[2m:[0m [2msrc/storage/wal/avro.rs[0m[2m:[0m[2m194:[0m ✅ Avro WAL strategy initialized
[2m2025-06-20T02:11:01.967304Z[0m [34mDEBUG[0m [2mproximadb::storage::wal::avro[0m[2m:[0m [2msrc/storage/wal/avro.rs[0m[2m:[0m[2m195:[0m ✅ AvroWalStrategy::initialize - Initialization complete
[2m2025-06-20T02:11:01.967374Z[0m [34mDEBUG[0m [2mproximadb::storage::wal[0m[2m:[0m [2msrc/storage/wal/mod.rs[0m[2m:[0m[2m215:[0m 🚀 Creating WalManager with strategy: Avro
[2m2025-06-20T02:11:01.967436Z[0m [34mDEBUG[0m [2mproximadb::storage::wal[0m[2m:[0m [2msrc/storage/wal/mod.rs[0m[2m:[0m[2m219:[0m 📋 WAL Config: strategy_type=Avro, memtable_type=Art
[2m2025-06-20T02:11:01.967494Z[0m [34mDEBUG[0m [2mproximadb::storage::wal[0m[2m:[0m [2msrc/storage/wal/mod.rs[0m[2m:[0m[2m224:[0m 💾 Multi-disk config: 1 directories, distribution=LoadBalanced
[2m2025-06-20T02:11:01.967558Z[0m [32m INFO[0m [2mproximadb::storage::engine[0m[2m:[0m [2msrc/storage/engine.rs[0m[2m:[0m[2m122:[0m 📂 StorageEngine: Metadata operations delegated to SharedServices
[2m2025-06-20T02:11:01.967687Z[0m [32m INFO[0m [2mproximadb[0m[2m:[0m [2msrc/lib.rs[0m[2m:[0m[2m74:[0m ✅ ProximaDB::new - Storage engine created successfully
[2m2025-06-20T02:11:01.967899Z[0m [32m INFO[0m [2mproximadb::network::server_builder[0m[2m:[0m [2msrc/network/server_builder.rs[0m[2m:[0m[2m148:[0m 📡 HTTP Server Configuration:
[2m2025-06-20T02:11:01.967992Z[0m [32m INFO[0m [2mproximadb::network::server_builder[0m[2m:[0m [2msrc/network/server_builder.rs[0m[2m:[0m[2m153:[0m   🌐 Non-TLS Mode: ENABLED on 0.0.0.0:5678
[2m2025-06-20T02:11:01.968064Z[0m [32m INFO[0m [2mproximadb::network::server_builder[0m[2m:[0m [2msrc/network/server_builder.rs[0m[2m:[0m[2m162:[0m   📍 Services: REST=true, Dashboard=true, Metrics=true, Health=true
[2m2025-06-20T02:11:01.968131Z[0m [32m INFO[0m [2mproximadb::network::server_builder[0m[2m:[0m [2msrc/network/server_builder.rs[0m[2m:[0m[2m301:[0m 🔗 gRPC Server Configuration:
[2m2025-06-20T02:11:01.968191Z[0m [32m INFO[0m [2mproximadb::network::server_builder[0m[2m:[0m [2msrc/network/server_builder.rs[0m[2m:[0m[2m306:[0m   🌐 Non-TLS Mode: ENABLED on 0.0.0.0:5679
[2m2025-06-20T02:11:01.968256Z[0m [32m INFO[0m [2mproximadb::network::server_builder[0m[2m:[0m [2msrc/network/server_builder.rs[0m[2m:[0m[2m315:[0m   📍 Features: gRPC=true, Reflection=true, MaxMsgSize=4MB
[2m2025-06-20T02:11:02.054949Z[0m [32m INFO[0m [2mproximadb[0m[2m:[0m [2msrc/lib.rs[0m[2m:[0m[2m113:[0m 🔧 ProximaDB::new: Creating SharedServices with metadata config: Some("file:///data/proximadb/1/metadata")
[2m2025-06-20T02:11:02.055288Z[0m [32m INFO[0m [2mproximadb::network::multi_server[0m[2m:[0m [2msrc/network/multi_server.rs[0m[2m:[0m[2m294:[0m 🔧 SharedServices: Initializing business logic hub for ALL protocols
[2m2025-06-20T02:11:02.055365Z[0m [32m INFO[0m [2mproximadb::network::multi_server[0m[2m:[0m [2msrc/network/multi_server.rs[0m[2m:[0m[2m298:[0m 🔧 SharedServices: Metadata config received - backend_type: filestore, storage_url: file:///data/proximadb/1/metadata
[2m2025-06-20T02:11:02.055422Z[0m [32m INFO[0m [2mproximadb::network::multi_server[0m[2m:[0m [2msrc/network/multi_server.rs[0m[2m:[0m[2m300:[0m 📂 SharedServices: Configuring metadata backend from TOML: file:///data/proximadb/1/metadata
[2m2025-06-20T02:11:02.055484Z[0m [32m INFO[0m [2mproximadb::network::multi_server[0m[2m:[0m [2msrc/network/multi_server.rs[0m[2m:[0m[2m319:[0m 📁 SharedServices: Configuring local filesystem for metadata
[2m2025-06-20T02:11:02.055555Z[0m [32m INFO[0m [2mproximadb::network::multi_server[0m[2m:[0m [2msrc/network/multi_server.rs[0m[2m:[0m[2m329:[0m 📁 SharedServices: Unified metadata backend URL: file:///data/proximadb/1/metadata
[2m2025-06-20T02:11:02.055696Z[0m [32m INFO[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m333:[0m 🗃️ Creating FilestoreMetadataBackend
[2m2025-06-20T02:11:02.055765Z[0m [32m INFO[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m334:[0m 📁 Filestore URL: file:///data/proximadb/1/metadata
[2m2025-06-20T02:11:02.059059Z[0m [32m INFO[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m344:[0m 📁 FilestoreMetadataBackend: Working in root directory specified by URL: file:///data/proximadb/1/metadata
[2m2025-06-20T02:11:02.060264Z[0m [32m INFO[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m384:[0m 🔄 Starting ATOMIC recovery...
[2m2025-06-20T02:11:02.060364Z[0m [32m INFO[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m385:[0m 📂 Filestore URL: file:///data/proximadb/1/metadata
[2m2025-06-20T02:11:02.060434Z[0m [32m INFO[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m386:[0m 📁 Metadata path: .
[2m2025-06-20T02:11:02.060509Z[0m [32m INFO[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m391:[0m 🔒 Recovery lock acquired - API requests blocked
[2m2025-06-20T02:11:02.060570Z[0m [32m INFO[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m397:[0m 📸 Loading latest snapshot...
[2m2025-06-20T02:11:02.060716Z[0m [32m INFO[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m433:[0m 📁 Snapshot path: ./snapshots/current_collections.avro
[2m2025-06-20T02:11:02.060828Z[0m [32m INFO[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m438:[0m 📄 Snapshot file exists, reading...
[2m2025-06-20T02:11:02.061116Z[0m [32m INFO[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m440:[0m 📊 Snapshot file size: 0 bytes
[2m2025-06-20T02:11:02.061192Z[0m [32m INFO[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m456:[0m 📭 Snapshot file is empty
[2m2025-06-20T02:11:02.061246Z[0m [32m INFO[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m399:[0m 📸 Loaded 0 collections from snapshot
[2m2025-06-20T02:11:02.061296Z[0m [32m INFO[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m405:[0m 🔄 Replaying incremental operations...
[2m2025-06-20T02:11:02.063321Z[0m [32m INFO[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m407:[0m 🔄 Replayed 1 operations
[2m2025-06-20T02:11:02.063416Z[0m [32m INFO[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m408:[0m 📊 Final memtable size: 0
[2m2025-06-20T02:11:02.063554Z[0m [32m INFO[0m [2mproximadb::storage::metadata::single_index[0m[2m:[0m [2msrc/storage/metadata/single_index.rs[0m[2m:[0m[2m244:[0m SingleCollectionIndex rebuilt with 0 collections
[2m2025-06-20T02:11:02.066894Z[0m [32m INFO[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m630:[0m 💾 Atomic write with optimized strategy: ./snapshots/current_collections.avro
[2m2025-06-20T02:11:02.067276Z[0m [32m INFO[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m632:[0m ✅ Optimized atomic write completed
[2m2025-06-20T02:11:02.067370Z[0m [32m INFO[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m425:[0m ✅ Recovery completed in 6.86933ms
[2m2025-06-20T02:11:02.067450Z[0m [32m INFO[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m378:[0m ✅ FilestoreMetadataBackend initialized
[2m2025-06-20T02:11:02.067538Z[0m [32m INFO[0m [2mproximadb::services::unified_avro_service[0m[2m:[0m [2msrc/services/unified_avro_service.rs[0m[2m:[0m[2m135:[0m 🏗️ Creating UnifiedAvroService with shared WAL manager
[2m2025-06-20T02:11:02.067617Z[0m [32m INFO[0m [2mproximadb::services::unified_avro_service[0m[2m:[0m [2msrc/services/unified_avro_service.rs[0m[2m:[0m[2m136:[0m 🔧 WAL Strategy: Avro, Memtable: BTree
[2m2025-06-20T02:11:02.067677Z[0m [32m INFO[0m [2mproximadb::services::unified_avro_service[0m[2m:[0m [2msrc/services/unified_avro_service.rs[0m[2m:[0m[2m82:[0m 🚀 Initializing UnifiedAvroService with binary Avro operations
[2m2025-06-20T02:11:02.067736Z[0m [32m INFO[0m [2mproximadb::services::unified_avro_service[0m[2m:[0m [2msrc/services/unified_avro_service.rs[0m[2m:[0m[2m83:[0m 📋 Service Config: WAL strategy=Avro, memtable=BTree, schema_version=1
[2m2025-06-20T02:11:02.067798Z[0m [32m INFO[0m [2mproximadb::network::multi_server[0m[2m:[0m [2msrc/network/multi_server.rs[0m[2m:[0m[2m355:[0m 🔄 SharedServices: Starting metadata recovery from WAL
[2m2025-06-20T02:11:02.067903Z[0m [32m INFO[0m [2mproximadb::storage::engine[0m[2m:[0m [2msrc/storage/engine.rs[0m[2m:[0m[2m496:[0m 📊 Extracting collection metadata from recovered WAL entries
[2m2025-06-20T02:11:02.068095Z[0m [32m INFO[0m [2mproximadb::storage::engine[0m[2m:[0m [2msrc/storage/engine.rs[0m[2m:[0m[2m504:[0m 📊 WAL stats: 0 total entries across 0 collections
[2m2025-06-20T02:11:02.068173Z[0m [34mDEBUG[0m [2mproximadb::storage::wal::avro[0m[2m:[0m [2msrc/storage/wal/avro.rs[0m[2m:[0m[2m304:[0m 📋 Getting all entries for collection test_persistence_collection_1 from memtable
[2m2025-06-20T02:11:02.068269Z[0m [34mDEBUG[0m [2mproximadb::storage::wal::avro[0m[2m:[0m [2msrc/storage/wal/avro.rs[0m[2m:[0m[2m304:[0m 📋 Getting all entries for collection test_persistence_collection_2 from memtable
[2m2025-06-20T02:11:02.068339Z[0m [34mDEBUG[0m [2mproximadb::storage::wal::avro[0m[2m:[0m [2msrc/storage/wal/avro.rs[0m[2m:[0m[2m304:[0m 📋 Getting all entries for collection embeddings from memtable
[2m2025-06-20T02:11:02.068409Z[0m [34mDEBUG[0m [2mproximadb::storage::wal::avro[0m[2m:[0m [2msrc/storage/wal/avro.rs[0m[2m:[0m[2m304:[0m 📋 Getting all entries for collection documents from memtable
[2m2025-06-20T02:11:02.068478Z[0m [34mDEBUG[0m [2mproximadb::storage::wal::avro[0m[2m:[0m [2msrc/storage/wal/avro.rs[0m[2m:[0m[2m304:[0m 📋 Getting all entries for collection vectors from memtable
[2m2025-06-20T02:11:02.068557Z[0m [32m INFO[0m [2mproximadb::storage::engine[0m[2m:[0m [2msrc/storage/engine.rs[0m[2m:[0m[2m560:[0m ✅ Extracted metadata for 0 collections from WAL
[2m2025-06-20T02:11:02.068630Z[0m [32m INFO[0m [2mproximadb::network::multi_server[0m[2m:[0m [2msrc/network/multi_server.rs[0m[2m:[0m[2m400:[0m 📋 SharedServices: No collections found in WAL to restore
[2m2025-06-20T02:11:02.068691Z[0m [32m INFO[0m [2mproximadb::network::multi_server[0m[2m:[0m [2msrc/network/multi_server.rs[0m[2m:[0m[2m403:[0m ✅ SharedServices: Business logic hub ready for ALL protocols (gRPC, REST, WebSocket, etc.)
[2m2025-06-20T02:11:02.068751Z[0m [32m INFO[0m [2mproximadb[0m[2m:[0m [2msrc/lib.rs[0m[2m:[0m[2m120:[0m ✅ ProximaDB::new: SharedServices created successfully
[2m2025-06-20T02:11:02.068822Z[0m [32m INFO[0m [2mproximadb::network::multi_server[0m[2m:[0m [2msrc/network/multi_server.rs[0m[2m:[0m[2m434:[0m 🚀 MultiServer: Initializing network orchestrator
[2m2025-06-20T02:11:02.068921Z[0m [32m INFO[0m [2mproximadb::network::multi_server[0m[2m:[0m [2msrc/network/multi_server.rs[0m[2m:[0m[2m435:[0m 📡 MultiServer: gRPC port: 5679, REST port: 5678
[2m2025-06-20T02:11:02.068985Z[0m [32m INFO[0m [2mproximadb::network::multi_server[0m[2m:[0m [2msrc/network/multi_server.rs[0m[2m:[0m[2m437:[0m 🔒 MultiServer: TLS enabled: false
[2m2025-06-20T02:11:02.069076Z[0m [32m INFO[0m [2mproximadb::storage::engine[0m[2m:[0m [2msrc/storage/engine.rs[0m[2m:[0m[2m474:[0m 🔄 Starting WAL recovery
[2m2025-06-20T02:11:02.069156Z[0m [32m INFO[0m [2mproximadb::storage::wal::avro[0m[2m:[0m [2msrc/storage/wal/avro.rs[0m[2m:[0m[2m482:[0m 🔄 WAL RECOVERY: Starting Avro WAL recovery
[2m2025-06-20T02:11:02.069235Z[0m [32m INFO[0m [2mproximadb::storage::wal::avro[0m[2m:[0m [2msrc/storage/wal/avro.rs[0m[2m:[0m[2m487:[0m 📂 WAL RECOVERY: Found 0 collections to recover
[2m2025-06-20T02:11:02.069304Z[0m [32m INFO[0m [2mproximadb::storage::wal::avro[0m[2m:[0m [2msrc/storage/wal/avro.rs[0m[2m:[0m[2m518:[0m ✅ WAL RECOVERY: Recovered 0 total entries from disk
[2m2025-06-20T02:11:02.069367Z[0m [32m INFO[0m [2mproximadb::storage::engine[0m[2m:[0m [2msrc/storage/engine.rs[0m[2m:[0m[2m479:[0m ✅ WAL recovery completed successfully, recovered 0 entries
[2m2025-06-20T02:11:02.069811Z[0m [34mDEBUG[0m [2mproximadb::storage::engine[0m[2m:[0m [2msrc/storage/engine.rs[0m[2m:[0m[2m465:[0m TODO: Initialize search index for collection metadata via SharedServices
[2m2025-06-20T02:11:02.070140Z[0m [34mDEBUG[0m [2mproximadb::storage::engine[0m[2m:[0m [2msrc/storage/engine.rs[0m[2m:[0m[2m465:[0m TODO: Initialize search index for collection wal via SharedServices
[2m2025-06-20T02:11:02.070378Z[0m [32m INFO[0m [2mproximadb::storage::engine[0m[2m:[0m [2msrc/storage/engine.rs[0m[2m:[0m[2m654:[0m 🔍 Preloading collection metadata cache...
[2m2025-06-20T02:11:02.070466Z[0m [32m INFO[0m [2mproximadb::storage::engine[0m[2m:[0m [2msrc/storage/engine.rs[0m[2m:[0m[2m664:[0m 🔍 Preloaded 0 collections into metadata cache
[2m2025-06-20T02:11:02.070559Z[0m [32m INFO[0m [2mproximadb::storage::lsm::compaction[0m[2m:[0m [2msrc/storage/lsm/compaction.rs[0m[2m:[0m[2m90:[0m Starting 2 compaction workers
[2m2025-06-20T02:11:02.071004Z[0m [34mDEBUG[0m [2mproximadb::storage::lsm::compaction[0m[2m:[0m [2msrc/storage/lsm/compaction.rs[0m[2m:[0m[2m239:[0m Compaction worker 0 started
[2m2025-06-20T02:11:02.070999Z[0m [32m INFO[0m [2mraft::raft[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/raft-0.7.0/src/raft.rs[0m[2m:[0m[2m2668:[0m switched to configuration, raft_id: 1, node_id: 1, config: Configuration { voters: Configuration { incoming: Configuration { voters: {} }, outgoing: Configuration { voters: {} } }, learners: {}, learners_next: {}, auto_leave: false }    
[2m2025-06-20T02:11:02.071068Z[0m [34mDEBUG[0m [2mproximadb::storage::lsm::compaction[0m[2m:[0m [2msrc/storage/lsm/compaction.rs[0m[2m:[0m[2m239:[0m Compaction worker 1 started
[2m2025-06-20T02:11:02.071200Z[0m [34mDEBUG[0m [2mraft::raft[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/raft-0.7.0/src/raft.rs[0m[2m:[0m[2m2811:[0m reset election timeout 0 -> 69 at 0, raft_id: 1, node_id: 1, election_elapsed: 0, timeout: 69, prev_timeout: 0    
[2m2025-06-20T02:11:02.071308Z[0m [32m INFO[0m [2mraft::raft[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/raft-0.7.0/src/raft.rs[0m[2m:[0m[2m1132:[0m became follower at term 0, raft_id: 1, node_id: 1, term: 0    
[2m2025-06-20T02:11:02.071406Z[0m [32m INFO[0m [2mraft::raft[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/raft-0.7.0/src/raft.rs[0m[2m:[0m[2m393:[0m newRaft, raft_id: 1, node_id: 1, peers: Configuration { incoming: Configuration { voters: {} }, outgoing: Configuration { voters: {} } }, last term: 0, last index: 0, applied: 0, commit: 0, term: 0    
[2m2025-06-20T02:11:02.071521Z[0m [32m INFO[0m [2mraft::raw_node[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/raft-0.7.0/src/raw_node.rs[0m[2m:[0m[2m315:[0m RawNode created with id 1., raft_id: 1, node_id: 1, id: 1    
[2m2025-06-20T02:11:02.071657Z[0m [32m INFO[0m [2mproximadb::consensus::raft[0m[2m:[0m [2msrc/consensus/raft/mod.rs[0m[2m:[0m[2m332:[0m Cluster initialization started with node 1
[2m2025-06-20T02:11:02.071739Z[0m [32m INFO[0m [2mproximadb::consensus::raft[0m[2m:[0m [2msrc/consensus/raft/mod.rs[0m[2m:[0m[2m334:[0m Bootstrapped new cluster with node 1
[2m2025-06-20T02:11:02.071878Z[0m [32m INFO[0m [2mproximadb::consensus::raft[0m[2m:[0m [2msrc/consensus/raft/mod.rs[0m[2m:[0m[2m400:[0m Network handlers started for node 1
[2m2025-06-20T02:11:02.071986Z[0m [32m INFO[0m [2mproximadb::consensus::raft[0m[2m:[0m [2msrc/consensus/raft/mod.rs[0m[2m:[0m[2m158:[0m Raft consensus engine activated for node 1
[2m2025-06-20T02:11:02.072080Z[0m [32m INFO[0m [2mproximadb::consensus[0m[2m:[0m [2msrc/consensus/mod.rs[0m[2m:[0m[2m56:[0m Consensus engine started for node 1
[2m2025-06-20T02:11:02.072149Z[0m [32m INFO[0m [2mproximadb::network::multi_server[0m[2m:[0m [2msrc/network/multi_server.rs[0m[2m:[0m[2m448:[0m 🚀 Starting ProximaDB Multi-Server: gRPC:5679 + REST:5678
[2m2025-06-20T02:11:02.072210Z[0m [32m INFO[0m [2mproximadb::network::multi_server[0m[2m:[0m [2msrc/network/multi_server.rs[0m[2m:[0m[2m455:[0m 🔗 Starting gRPC Server on port 5679
[2m2025-06-20T02:11:02.072271Z[0m [32m INFO[0m [2mproximadb::network::grpc::service[0m[2m:[0m [2msrc/network/grpc/service.rs[0m[2m:[0m[2m139:[0m 🚀 Creating ProximaDbGrpcService with shared services (multi-server pattern)
[2m2025-06-20T02:11:02.072606Z[0m [34mDEBUG[0m [2mproximadb::network::multi_server[0m[2m:[0m [2msrc/network/multi_server.rs[0m[2m:[0m[2m470:[0m Adding gRPC reflection service
[2m2025-06-20T02:11:02.078328Z[0m [32m INFO[0m [2mproximadb::network::multi_server[0m[2m:[0m [2msrc/network/multi_server.rs[0m[2m:[0m[2m491:[0m ✅ gRPC Server started on 0.0.0.0:5679
[2m2025-06-20T02:11:02.078424Z[0m [32m INFO[0m [2mproximadb::network::multi_server[0m[2m:[0m [2msrc/network/multi_server.rs[0m[2m:[0m[2m496:[0m 📡 Starting REST Server on port 5678
[2m2025-06-20T02:11:02.078504Z[0m [32m INFO[0m [2mproximadb::network::multi_server[0m[2m:[0m [2msrc/network/multi_server.rs[0m[2m:[0m[2m511:[0m ✅ REST Server started on 0.0.0.0:5678
[2m2025-06-20T02:11:02.078558Z[0m [32m INFO[0m [2mproximadb::network::multi_server[0m[2m:[0m [2msrc/network/multi_server.rs[0m[2m:[0m[2m503:[0m 📡 REST Server placeholder running on 0.0.0.0:5678
[2m2025-06-20T02:11:02.078590Z[0m [32m INFO[0m [2mproximadb::network::multi_server[0m[2m:[0m [2msrc/network/multi_server.rs[0m[2m:[0m[2m516:[0m 🎯 Multi-Server started successfully: gRPC:5679 + REST:5678
[2m2025-06-20T02:11:02.078676Z[0m [32m INFO[0m [2mproximadb_server[0m[2m:[0m [2msrc/bin/server.rs[0m[2m:[0m[2m114:[0m ProximaDB server started successfully
[2m2025-06-20T02:16:23.027597Z[0m [34mDEBUG[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mSettings { flags: (0x0), initial_window_size: 1048576, max_frame_size: 16384, max_header_list_size: 16777216 }
[2m2025-06-20T02:16:23.028806Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mSettings { flags: (0x0), enable_push: 0, max_concurrent_streams: 0, initial_window_size: 4194304, max_frame_size: 4194304, max_header_list_size: 16384 }
[2m2025-06-20T02:16:23.029067Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mSettings { flags: (0x1: ACK) }
[2m2025-06-20T02:16:23.029291Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(0), size_increment: 4128769 }
[2m2025-06-20T02:16:23.029558Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mSettings { flags: (0x1: ACK) }
[2m2025-06-20T02:16:23.029714Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::proto::settings[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/proto/settings.rs[0m[2m:[0m[2m52:[0m received settings ACK; applying Settings { flags: (0x0), initial_window_size: 1048576, max_frame_size: 16384, max_header_list_size: 16777216 }
[2m2025-06-20T02:16:23.030222Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:16:23.030570Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(1), size_increment: 5 }
[2m2025-06-20T02:16:23.030794Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mData { stream_id: StreamId(1), flags: (0x1: END_STREAM) }
[2m2025-06-20T02:16:23.031031Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(0), size_increment: 5 }
[2m2025-06-20T02:16:23.031237Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(0), size_increment: 983041 }
[2m2025-06-20T02:16:23.032237Z[0m [34mDEBUG[0m [2mproximadb::network::grpc::service[0m[2m:[0m [2msrc/network/grpc/service.rs[0m[2m:[0m[2m202:[0m 📦 gRPC collection_operation: CollectionCreate
[2m2025-06-20T02:16:23.032422Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m45:[0m 🆕 Creating collection: test_collection_filesystem
[2m2025-06-20T02:16:23.032828Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m746:[0m 🆕 Upserting collection record: test_collection_filesystem (UUID: aa38668e-f178-4e3c-a17d-f84c584bc45f)
[2m2025-06-20T02:16:23.032991Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m750:[0m 🔒 Recovery lock acquired for upsert
[2m2025-06-20T02:16:23.033141Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m754:[0m 🔢 Sequence number: 0
[2m2025-06-20T02:16:23.033295Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m760:[0m 🔄 Operation type: INSERT
[2m2025-06-20T02:16:23.033484Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m770:[0m 💾 About to call write_incremental_operation...
[2m2025-06-20T02:16:23.033620Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m692:[0m 💾 Writing incremental operation: seq=0, type=Insert, id=aa38668e-f178-4e3c-a17d-f84c584bc45f
[2m2025-06-20T02:16:23.033912Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m696:[0m 🔗 Got filesystem for URL: file:///data/proximadb/1/metadata
[2m2025-06-20T02:16:23.034040Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m704:[0m 📁 Writing to path: ./incremental/op_00000000_20250620021623.avro
[2m2025-06-20T02:16:23.034756Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m734:[0m 📊 Serialized 848 bytes of Avro data
[2m2025-06-20T02:16:23.034928Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m630:[0m 💾 Atomic write with optimized strategy: ./incremental/op_00000000_20250620021623.avro
[2m2025-06-20T02:16:23.036311Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m632:[0m ✅ Optimized atomic write completed
[2m2025-06-20T02:16:23.036505Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m772:[0m ✅ write_incremental_operation completed
[2m2025-06-20T02:16:23.036640Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m775:[0m 🧠 Updating single index...
[2m2025-06-20T02:16:23.036913Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m777:[0m ✅ Single index updated
[2m2025-06-20T02:16:23.037008Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m779:[0m 🎉 upsert_collection_record completed successfully
[2m2025-06-20T02:16:23.037144Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m80:[0m ✅ Collection created: test_collection_filesystem (UUID: aa38668e-f178-4e3c-a17d-f84c584bc45f) in 4587μs
[2m2025-06-20T02:16:23.037364Z[0m [34mDEBUG[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m102:[0m 🔍 Getting collection: test_collection_filesystem
[2m2025-06-20T02:16:23.038342Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:16:23.038675Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mData { stream_id: StreamId(1) }
[2m2025-06-20T02:16:23.038925Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(1), flags: (0x5: END_HEADERS | END_STREAM) }
[2m2025-06-20T02:16:23.039581Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mPing { ack: false, payload: [62, 204, 244, 215, 47, 72, 195, 231] }
[2m2025-06-20T02:16:23.039677Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mPing { ack: true, payload: [62, 204, 244, 215, 47, 72, 195, 231] }
[2m2025-06-20T02:16:51.190609Z[0m [34mDEBUG[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mSettings { flags: (0x0), initial_window_size: 1048576, max_frame_size: 16384, max_header_list_size: 16777216 }
[2m2025-06-20T02:16:51.191675Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mSettings { flags: (0x0), enable_push: 0, max_concurrent_streams: 0, initial_window_size: 4194304, max_frame_size: 4194304, max_header_list_size: 16384 }
[2m2025-06-20T02:16:51.191921Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mSettings { flags: (0x1: ACK) }
[2m2025-06-20T02:16:51.192114Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(0), size_increment: 4128769 }
[2m2025-06-20T02:16:51.192325Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(0), size_increment: 983041 }
[2m2025-06-20T02:16:51.192811Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mSettings { flags: (0x1: ACK) }
[2m2025-06-20T02:16:51.192988Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::proto::settings[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/proto/settings.rs[0m[2m:[0m[2m52:[0m received settings ACK; applying Settings { flags: (0x0), initial_window_size: 1048576, max_frame_size: 16384, max_header_list_size: 16777216 }
[2m2025-06-20T02:16:51.193345Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:16:51.193691Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(1), size_increment: 5 }
[2m2025-06-20T02:16:51.193922Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mData { stream_id: StreamId(1), flags: (0x1: END_STREAM) }
[2m2025-06-20T02:16:51.194127Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(0), size_increment: 5 }
[2m2025-06-20T02:16:51.194919Z[0m [34mDEBUG[0m [2mproximadb::network::grpc::service[0m[2m:[0m [2msrc/network/grpc/service.rs[0m[2m:[0m[2m202:[0m 📦 gRPC collection_operation: CollectionCreate
[2m2025-06-20T02:16:51.195064Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m45:[0m 🆕 Creating collection: test_collection_filesystem
[2m2025-06-20T02:16:51.195919Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:16:51.196210Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mData { stream_id: StreamId(1) }
[2m2025-06-20T02:16:51.196433Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(1), flags: (0x5: END_HEADERS | END_STREAM) }
[2m2025-06-20T02:16:51.197258Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mPing { ack: false, payload: [120, 202, 193, 236, 107, 53, 132, 160] }
[2m2025-06-20T02:16:51.197454Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mPing { ack: true, payload: [120, 202, 193, 236, 107, 53, 132, 160] }
[2m2025-06-20T02:17:23.584805Z[0m [34mDEBUG[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mSettings { flags: (0x0), initial_window_size: 1048576, max_frame_size: 16384, max_header_list_size: 16777216 }
[2m2025-06-20T02:17:23.585708Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mSettings { flags: (0x0), enable_push: 0, max_concurrent_streams: 0, initial_window_size: 4194304, max_frame_size: 4194304, max_header_list_size: 16384 }
[2m2025-06-20T02:17:23.585952Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mSettings { flags: (0x1: ACK) }
[2m2025-06-20T02:17:23.586113Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(0), size_increment: 4128769 }
[2m2025-06-20T02:17:23.586322Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mSettings { flags: (0x1: ACK) }
[2m2025-06-20T02:17:23.586406Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::proto::settings[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/proto/settings.rs[0m[2m:[0m[2m52:[0m received settings ACK; applying Settings { flags: (0x0), initial_window_size: 1048576, max_frame_size: 16384, max_header_list_size: 16777216 }
[2m2025-06-20T02:17:23.586474Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(0), size_increment: 983041 }
[2m2025-06-20T02:17:23.586799Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:17:23.587011Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(1), size_increment: 5 }
[2m2025-06-20T02:17:23.587114Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mData { stream_id: StreamId(1), flags: (0x1: END_STREAM) }
[2m2025-06-20T02:17:23.587201Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(0), size_increment: 5 }
[2m2025-06-20T02:17:23.587600Z[0m [34mDEBUG[0m [2mproximadb::network::grpc::service[0m[2m:[0m [2msrc/network/grpc/service.rs[0m[2m:[0m[2m202:[0m 📦 gRPC collection_operation: CollectionCreate
[2m2025-06-20T02:17:23.587661Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m45:[0m 🆕 Creating collection: test_collection_filesystem
[2m2025-06-20T02:17:23.588141Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:17:23.588270Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mData { stream_id: StreamId(1) }
[2m2025-06-20T02:17:23.588361Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(1), flags: (0x5: END_HEADERS | END_STREAM) }
[2m2025-06-20T02:17:23.588681Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mPing { ack: false, payload: [35, 211, 42, 151, 11, 250, 122, 226] }
[2m2025-06-20T02:17:23.588754Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mPing { ack: true, payload: [35, 211, 42, 151, 11, 250, 122, 226] }
[2m2025-06-20T02:17:23.589233Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(3), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:17:23.589347Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(3), size_increment: 5 }
[2m2025-06-20T02:17:23.589431Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mData { stream_id: StreamId(3), flags: (0x1: END_STREAM) }
[2m2025-06-20T02:17:23.589507Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(0), size_increment: 84 }
[2m2025-06-20T02:17:23.589722Z[0m [34mDEBUG[0m [2mproximadb::network::grpc::service[0m[2m:[0m [2msrc/network/grpc/service.rs[0m[2m:[0m[2m202:[0m 📦 gRPC collection_operation: CollectionGet
[2m2025-06-20T02:17:23.589759Z[0m [34mDEBUG[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m102:[0m 🔍 Getting collection: test_collection_filesystem
[2m2025-06-20T02:17:23.590037Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(3), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:17:23.590133Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mData { stream_id: StreamId(3) }
[2m2025-06-20T02:17:23.590208Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(3), flags: (0x5: END_HEADERS | END_STREAM) }
[2m2025-06-20T02:17:23.590735Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(5), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:17:23.590850Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(5), size_increment: 5 }
[2m2025-06-20T02:17:23.590945Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mData { stream_id: StreamId(5), flags: (0x1: END_STREAM) }
[2m2025-06-20T02:17:23.591021Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(0), size_increment: 108 }
[2m2025-06-20T02:17:23.591229Z[0m [34mDEBUG[0m [2mproximadb::network::grpc::service[0m[2m:[0m [2msrc/network/grpc/service.rs[0m[2m:[0m[2m202:[0m 📦 gRPC collection_operation: CollectionGet
[2m2025-06-20T02:17:23.591264Z[0m [34mDEBUG[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m102:[0m 🔍 Getting collection: test_collection_filesystem
[2m2025-06-20T02:17:23.591481Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(5), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:17:23.591569Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mData { stream_id: StreamId(5) }
[2m2025-06-20T02:17:23.591644Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(5), flags: (0x5: END_HEADERS | END_STREAM) }
[2m2025-06-20T02:17:23.592232Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(7), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:17:23.592354Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(7), size_increment: 5 }
[2m2025-06-20T02:17:23.592440Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mData { stream_id: StreamId(7), flags: (0x1: END_STREAM) }
[2m2025-06-20T02:17:23.592524Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(0), size_increment: 108 }
[2m2025-06-20T02:17:23.592945Z[0m [34mDEBUG[0m [2mproximadb::network::grpc::service[0m[2m:[0m [2msrc/network/grpc/service.rs[0m[2m:[0m[2m202:[0m 📦 gRPC collection_operation: CollectionList
[2m2025-06-20T02:17:23.593090Z[0m [34mDEBUG[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m120:[0m 📋 Listing all collections
[2m2025-06-20T02:17:23.593728Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(7), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:17:23.593919Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mData { stream_id: StreamId(7) }
[2m2025-06-20T02:17:23.594155Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(7), flags: (0x5: END_HEADERS | END_STREAM) }
[2m2025-06-20T02:17:23.594892Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(9), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:17:23.595191Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(9), size_increment: 5 }
[2m2025-06-20T02:17:23.595404Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mData { stream_id: StreamId(9), flags: (0x1: END_STREAM) }
[2m2025-06-20T02:17:23.595608Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(0), size_increment: 111 }
[2m2025-06-20T02:17:23.596055Z[0m [34mDEBUG[0m [2mproximadb::network::grpc::service[0m[2m:[0m [2msrc/network/grpc/service.rs[0m[2m:[0m[2m202:[0m 📦 gRPC collection_operation: CollectionCreate
[2m2025-06-20T02:17:23.596216Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m45:[0m 🆕 Creating collection: test_collection_persistence
[2m2025-06-20T02:17:23.596534Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m746:[0m 🆕 Upserting collection record: test_collection_persistence (UUID: 917a6a80-b2c1-4203-b197-1f6646764513)
[2m2025-06-20T02:17:23.596679Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m750:[0m 🔒 Recovery lock acquired for upsert
[2m2025-06-20T02:17:23.596808Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m754:[0m 🔢 Sequence number: 1
[2m2025-06-20T02:17:23.597003Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m760:[0m 🔄 Operation type: INSERT
[2m2025-06-20T02:17:23.597175Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m770:[0m 💾 About to call write_incremental_operation...
[2m2025-06-20T02:17:23.597309Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m692:[0m 💾 Writing incremental operation: seq=1, type=Insert, id=917a6a80-b2c1-4203-b197-1f6646764513
[2m2025-06-20T02:17:23.597591Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m696:[0m 🔗 Got filesystem for URL: file:///data/proximadb/1/metadata
[2m2025-06-20T02:17:23.597748Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m704:[0m 📁 Writing to path: ./incremental/op_00000001_20250620021723.avro
[2m2025-06-20T02:17:23.598428Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m734:[0m 📊 Serialized 852 bytes of Avro data
[2m2025-06-20T02:17:23.598610Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m630:[0m 💾 Atomic write with optimized strategy: ./incremental/op_00000001_20250620021723.avro
[2m2025-06-20T02:17:23.599775Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m632:[0m ✅ Optimized atomic write completed
[2m2025-06-20T02:17:23.599979Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m772:[0m ✅ write_incremental_operation completed
[2m2025-06-20T02:17:23.600128Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m775:[0m 🧠 Updating single index...
[2m2025-06-20T02:17:23.600365Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m777:[0m ✅ Single index updated
[2m2025-06-20T02:17:23.600492Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m779:[0m 🎉 upsert_collection_record completed successfully
[2m2025-06-20T02:17:23.600641Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m80:[0m ✅ Collection created: test_collection_persistence (UUID: 917a6a80-b2c1-4203-b197-1f6646764513) in 4280μs
[2m2025-06-20T02:17:23.600793Z[0m [34mDEBUG[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m102:[0m 🔍 Getting collection: test_collection_persistence
[2m2025-06-20T02:17:23.601420Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(9), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:17:23.601698Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mData { stream_id: StreamId(9) }
[2m2025-06-20T02:17:23.601923Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(9), flags: (0x5: END_HEADERS | END_STREAM) }
[2m2025-06-20T02:17:23.603021Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(11), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:17:23.603365Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(11), size_increment: 5 }
[2m2025-06-20T02:17:23.603531Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mData { stream_id: StreamId(11), flags: (0x1: END_STREAM) }
[2m2025-06-20T02:17:23.603737Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(0), size_increment: 110 }
[2m2025-06-20T02:17:23.604325Z[0m [34mDEBUG[0m [2mproximadb::network::grpc::service[0m[2m:[0m [2msrc/network/grpc/service.rs[0m[2m:[0m[2m202:[0m 📦 gRPC collection_operation: CollectionList
[2m2025-06-20T02:17:23.604436Z[0m [34mDEBUG[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m120:[0m 📋 Listing all collections
[2m2025-06-20T02:17:23.605182Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(11), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:17:23.605446Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mData { stream_id: StreamId(11) }
[2m2025-06-20T02:17:23.605658Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(11), flags: (0x5: END_HEADERS | END_STREAM) }
[2m2025-06-20T02:19:40.053339Z[0m [34mDEBUG[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mSettings { flags: (0x0), initial_window_size: 1048576, max_frame_size: 16384, max_header_list_size: 16777216 }
[2m2025-06-20T02:19:40.054138Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mSettings { flags: (0x0), enable_push: 0, max_concurrent_streams: 0, initial_window_size: 4194304, max_frame_size: 4194304, max_header_list_size: 16384 }
[2m2025-06-20T02:19:40.054291Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mSettings { flags: (0x1: ACK) }
[2m2025-06-20T02:19:40.054410Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(0), size_increment: 4128769 }
[2m2025-06-20T02:19:40.054525Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mSettings { flags: (0x1: ACK) }
[2m2025-06-20T02:19:40.054613Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::proto::settings[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/proto/settings.rs[0m[2m:[0m[2m52:[0m received settings ACK; applying Settings { flags: (0x0), initial_window_size: 1048576, max_frame_size: 16384, max_header_list_size: 16777216 }
[2m2025-06-20T02:19:40.054721Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(0), size_increment: 983041 }
[2m2025-06-20T02:19:40.055254Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:19:40.055474Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(1), size_increment: 5 }
[2m2025-06-20T02:19:40.055595Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mData { stream_id: StreamId(1), flags: (0x1: END_STREAM) }
[2m2025-06-20T02:19:40.055725Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(0), size_increment: 5 }
[2m2025-06-20T02:19:40.056301Z[0m [34mDEBUG[0m [2mproximadb::network::grpc::service[0m[2m:[0m [2msrc/network/grpc/service.rs[0m[2m:[0m[2m202:[0m 📦 gRPC collection_operation: CollectionList
[2m2025-06-20T02:19:40.056367Z[0m [34mDEBUG[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m120:[0m 📋 Listing all collections
[2m2025-06-20T02:19:40.056989Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:19:40.057177Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mData { stream_id: StreamId(1) }
[2m2025-06-20T02:19:40.057306Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(1), flags: (0x5: END_HEADERS | END_STREAM) }
[2m2025-06-20T02:19:40.057721Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mPing { ack: false, payload: [119, 44, 235, 208, 177, 139, 66, 174] }
[2m2025-06-20T02:19:40.057795Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mPing { ack: true, payload: [119, 44, 235, 208, 177, 139, 66, 174] }
[2m2025-06-20T02:19:40.059314Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(3), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:19:40.059862Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(3), size_increment: 5 }
[2m2025-06-20T02:19:40.060112Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mData { stream_id: StreamId(3), flags: (0x1: END_STREAM) }
[2m2025-06-20T02:19:40.060341Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(0), size_increment: 207 }
[2m2025-06-20T02:19:40.061291Z[0m [34mDEBUG[0m [2mproximadb::network::grpc::service[0m[2m:[0m [2msrc/network/grpc/service.rs[0m[2m:[0m[2m202:[0m 📦 gRPC collection_operation: CollectionCreate
[2m2025-06-20T02:19:40.061488Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m45:[0m 🆕 Creating collection: restart_test_1_20250619_211940
[2m2025-06-20T02:19:40.061914Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m746:[0m 🆕 Upserting collection record: restart_test_1_20250619_211940 (UUID: e31f4400-359c-46a5-962d-4041e2d17265)
[2m2025-06-20T02:19:40.062078Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m750:[0m 🔒 Recovery lock acquired for upsert
[2m2025-06-20T02:19:40.062230Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m754:[0m 🔢 Sequence number: 2
[2m2025-06-20T02:19:40.062378Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m760:[0m 🔄 Operation type: INSERT
[2m2025-06-20T02:19:40.062556Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m770:[0m 💾 About to call write_incremental_operation...
[2m2025-06-20T02:19:40.062687Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m692:[0m 💾 Writing incremental operation: seq=2, type=Insert, id=e31f4400-359c-46a5-962d-4041e2d17265
[2m2025-06-20T02:19:40.062973Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m696:[0m 🔗 Got filesystem for URL: file:///data/proximadb/1/metadata
[2m2025-06-20T02:19:40.063145Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m704:[0m 📁 Writing to path: ./incremental/op_00000002_20250620021940.avro
[2m2025-06-20T02:19:40.063765Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m734:[0m 📊 Serialized 852 bytes of Avro data
[2m2025-06-20T02:19:40.063908Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m630:[0m 💾 Atomic write with optimized strategy: ./incremental/op_00000002_20250620021940.avro
[2m2025-06-20T02:19:40.065011Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m632:[0m ✅ Optimized atomic write completed
[2m2025-06-20T02:19:40.065196Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m772:[0m ✅ write_incremental_operation completed
[2m2025-06-20T02:19:40.065321Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m775:[0m 🧠 Updating single index...
[2m2025-06-20T02:19:40.065534Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m777:[0m ✅ Single index updated
[2m2025-06-20T02:19:40.065661Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m779:[0m 🎉 upsert_collection_record completed successfully
[2m2025-06-20T02:19:40.065806Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m80:[0m ✅ Collection created: restart_test_1_20250619_211940 (UUID: e31f4400-359c-46a5-962d-4041e2d17265) in 4188μs
[2m2025-06-20T02:19:40.066035Z[0m [34mDEBUG[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m102:[0m 🔍 Getting collection: restart_test_1_20250619_211940
[2m2025-06-20T02:19:40.066914Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(3), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:19:40.067202Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mData { stream_id: StreamId(3) }
[2m2025-06-20T02:19:40.067433Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(3), flags: (0x5: END_HEADERS | END_STREAM) }
[2m2025-06-20T02:19:40.068995Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(5), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:19:40.069301Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(5), size_increment: 5 }
[2m2025-06-20T02:19:40.069481Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mData { stream_id: StreamId(5), flags: (0x1: END_STREAM) }
[2m2025-06-20T02:19:40.069696Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(0), size_increment: 113 }
[2m2025-06-20T02:19:40.070361Z[0m [34mDEBUG[0m [2mproximadb::network::grpc::service[0m[2m:[0m [2msrc/network/grpc/service.rs[0m[2m:[0m[2m202:[0m 📦 gRPC collection_operation: CollectionCreate
[2m2025-06-20T02:19:40.070598Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m45:[0m 🆕 Creating collection: restart_test_2_20250619_211940
[2m2025-06-20T02:19:40.070938Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m746:[0m 🆕 Upserting collection record: restart_test_2_20250619_211940 (UUID: 68f9f6dc-a7cc-452e-961b-0bce14b53dae)
[2m2025-06-20T02:19:40.071128Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m750:[0m 🔒 Recovery lock acquired for upsert
[2m2025-06-20T02:19:40.071250Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m754:[0m 🔢 Sequence number: 3
[2m2025-06-20T02:19:40.071376Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m760:[0m 🔄 Operation type: INSERT
[2m2025-06-20T02:19:40.071533Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m770:[0m 💾 About to call write_incremental_operation...
[2m2025-06-20T02:19:40.071605Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m692:[0m 💾 Writing incremental operation: seq=3, type=Insert, id=68f9f6dc-a7cc-452e-961b-0bce14b53dae
[2m2025-06-20T02:19:40.071745Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m696:[0m 🔗 Got filesystem for URL: file:///data/proximadb/1/metadata
[2m2025-06-20T02:19:40.071896Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m704:[0m 📁 Writing to path: ./incremental/op_00000003_20250620021940.avro
[2m2025-06-20T02:19:40.072394Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m734:[0m 📊 Serialized 855 bytes of Avro data
[2m2025-06-20T02:19:40.072546Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m630:[0m 💾 Atomic write with optimized strategy: ./incremental/op_00000003_20250620021940.avro
[2m2025-06-20T02:19:40.073431Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m632:[0m ✅ Optimized atomic write completed
[2m2025-06-20T02:19:40.073639Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m772:[0m ✅ write_incremental_operation completed
[2m2025-06-20T02:19:40.073770Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m775:[0m 🧠 Updating single index...
[2m2025-06-20T02:19:40.073959Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m777:[0m ✅ Single index updated
[2m2025-06-20T02:19:40.074104Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m779:[0m 🎉 upsert_collection_record completed successfully
[2m2025-06-20T02:19:40.074254Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m80:[0m ✅ Collection created: restart_test_2_20250619_211940 (UUID: 68f9f6dc-a7cc-452e-961b-0bce14b53dae) in 3526μs
[2m2025-06-20T02:19:40.074430Z[0m [34mDEBUG[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m102:[0m 🔍 Getting collection: restart_test_2_20250619_211940
[2m2025-06-20T02:19:40.075158Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(5), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:19:40.075429Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mData { stream_id: StreamId(5) }
[2m2025-06-20T02:19:40.075643Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(5), flags: (0x5: END_HEADERS | END_STREAM) }
[2m2025-06-20T02:19:40.076582Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(7), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:19:40.076905Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(7), size_increment: 5 }
[2m2025-06-20T02:19:40.077089Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mData { stream_id: StreamId(7), flags: (0x1: END_STREAM) }
[2m2025-06-20T02:19:40.077305Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(0), size_increment: 113 }
[2m2025-06-20T02:19:40.077935Z[0m [34mDEBUG[0m [2mproximadb::network::grpc::service[0m[2m:[0m [2msrc/network/grpc/service.rs[0m[2m:[0m[2m202:[0m 📦 gRPC collection_operation: CollectionCreate
[2m2025-06-20T02:19:40.078102Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m45:[0m 🆕 Creating collection: restart_test_3_20250619_211940
[2m2025-06-20T02:19:40.078389Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m746:[0m 🆕 Upserting collection record: restart_test_3_20250619_211940 (UUID: 4f22fa17-6ec7-4fa3-ac3a-5fab4e007e90)
[2m2025-06-20T02:19:40.078551Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m750:[0m 🔒 Recovery lock acquired for upsert
[2m2025-06-20T02:19:40.078672Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m754:[0m 🔢 Sequence number: 4
[2m2025-06-20T02:19:40.078796Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m760:[0m 🔄 Operation type: INSERT
[2m2025-06-20T02:19:40.078986Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m770:[0m 💾 About to call write_incremental_operation...
[2m2025-06-20T02:19:40.079114Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m692:[0m 💾 Writing incremental operation: seq=4, type=Insert, id=4f22fa17-6ec7-4fa3-ac3a-5fab4e007e90
[2m2025-06-20T02:19:40.079303Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m696:[0m 🔗 Got filesystem for URL: file:///data/proximadb/1/metadata
[2m2025-06-20T02:19:40.079443Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m704:[0m 📁 Writing to path: ./incremental/op_00000004_20250620021940.avro
[2m2025-06-20T02:19:40.079865Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m734:[0m 📊 Serialized 857 bytes of Avro data
[2m2025-06-20T02:19:40.080027Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m630:[0m 💾 Atomic write with optimized strategy: ./incremental/op_00000004_20250620021940.avro
[2m2025-06-20T02:19:40.080673Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m632:[0m ✅ Optimized atomic write completed
[2m2025-06-20T02:19:40.080865Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m772:[0m ✅ write_incremental_operation completed
[2m2025-06-20T02:19:40.080980Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m775:[0m 🧠 Updating single index...
[2m2025-06-20T02:19:40.081178Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m777:[0m ✅ Single index updated
[2m2025-06-20T02:19:40.081305Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::storage::metadata::backends::filestore_backend[0m[2m:[0m [2msrc/storage/metadata/backends/filestore_backend.rs[0m[2m:[0m[2m779:[0m 🎉 upsert_collection_record completed successfully
[2m2025-06-20T02:19:40.081447Z[0m [32m INFO[0m [1mgrpc_collection_create[0m[2m:[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m80:[0m ✅ Collection created: restart_test_3_20250619_211940 (UUID: 4f22fa17-6ec7-4fa3-ac3a-5fab4e007e90) in 3217μs
[2m2025-06-20T02:19:40.081617Z[0m [34mDEBUG[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m102:[0m 🔍 Getting collection: restart_test_3_20250619_211940
[2m2025-06-20T02:19:40.082303Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(7), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:19:40.082571Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mData { stream_id: StreamId(7) }
[2m2025-06-20T02:19:40.082777Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(7), flags: (0x5: END_HEADERS | END_STREAM) }
[2m2025-06-20T02:19:40.083642Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(9), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:19:40.083954Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(9), size_increment: 5 }
[2m2025-06-20T02:19:40.084182Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mData { stream_id: StreamId(9), flags: (0x1: END_STREAM) }
[2m2025-06-20T02:19:40.084398Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_read[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_read.rs[0m[2m:[0m[2m405:[0m received [3mframe[0m[2m=[0mWindowUpdate { stream_id: StreamId(0), size_increment: 113 }
[2m2025-06-20T02:19:40.085055Z[0m [34mDEBUG[0m [2mproximadb::network::grpc::service[0m[2m:[0m [2msrc/network/grpc/service.rs[0m[2m:[0m[2m202:[0m 📦 gRPC collection_operation: CollectionList
[2m2025-06-20T02:19:40.085166Z[0m [34mDEBUG[0m [2mproximadb::services::collection_service[0m[2m:[0m [2msrc/services/collection_service.rs[0m[2m:[0m[2m120:[0m 📋 Listing all collections
[2m2025-06-20T02:19:40.086011Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(9), flags: (0x4: END_HEADERS) }
[2m2025-06-20T02:19:40.086295Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mData { stream_id: StreamId(9) }
[2m2025-06-20T02:19:40.086506Z[0m [34mDEBUG[0m [1mConnection[0m[1m{[0m[3mpeer[0m[2m=[0mServer[1m}[0m[2m:[0m [2mh2::codec::framed_write[0m[2m:[0m [2m/home/vsingh/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/h2-0.3.26/src/codec/framed_write.rs[0m[2m:[0m[2m213:[0m send [3mframe[0m[2m=[0mHeaders { stream_id: StreamId(9), flags: (0x5: END_HEADERS | END_STREAM) }
